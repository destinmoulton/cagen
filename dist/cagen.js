
/*
Variables.coffee

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata Generator (CAGEN)

Manage variables for the cagen components.
 */
var Variables;

Variables = (function() {
  function Variables() {
    this.jMainContainer = $("#cagen-container");
    this.currentRule = 0;
    this.topRowBinaryArray = [];
    radio('rules.set.currentrule').subscribe((function(_this) {
      return function(data) {
        _this.setCurrentRule(data);
      };
    })(this));
  }

  Variables.prototype.setCurrentRule = function(newRule) {
    return this.currentRule = newRule;
  };

  Variables.prototype.setTopRowBinary = function(newBinary) {
    return this.topRowBinaryArray = newBinary;
  };

  Variables.prototype.getTopRowBinary = function() {
    return this.topRowBinaryArray;
  };

  return Variables;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmFyaWFibGVzLmpzIiwic291cmNlcyI6WyJWYXJpYWJsZXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7QUFBQSxJQUFBOztBQWFNO0VBRVcsbUJBQUE7SUFDVCxJQUFDLENBQUEsY0FBRCxHQUFrQixDQUFBLENBQUUsa0JBQUY7SUFDbEIsSUFBQyxDQUFBLFdBQUQsR0FBZTtJQUNmLElBQUMsQ0FBQSxpQkFBRCxHQUFxQjtJQUVyQixLQUFBLENBQU0sdUJBQU4sQ0FBOEIsQ0FBQyxTQUEvQixDQUNJLENBQUEsU0FBQSxLQUFBO2FBQUEsU0FBQyxJQUFEO1FBQ0ksS0FBQyxDQUFBLGNBQUQsQ0FBZ0IsSUFBaEI7TUFESjtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FESjtFQUxTOztzQkFXYixjQUFBLEdBQWdCLFNBQUMsT0FBRDtXQUNaLElBQUMsQ0FBQSxXQUFELEdBQWU7RUFESDs7c0JBR2hCLGVBQUEsR0FBaUIsU0FBQyxTQUFEO1dBQ2IsSUFBQyxDQUFBLGlCQUFELEdBQXFCO0VBRFI7O3NCQUdqQixlQUFBLEdBQWlCLFNBQUE7QUFDYixXQUFPLElBQUMsQ0FBQTtFQURLIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG5WYXJpYWJsZXMuY29mZmVlXG5cbkBhdXRob3IgRGVzdGluIE1vdWx0b25cbkBnaXQgaHR0cHM6Ly9naXRodWIuY29tL2Rlc3Rpbm1vdWx0b24vY2FnZW5cbkBsaWNlbnNlIE1JVFxuXG5Db21wb25lbnQgb2YgQ2VsbHVsYXIgQXV0b21hdGEgR2VuZXJhdG9yIChDQUdFTilcblxuTWFuYWdlIHZhcmlhYmxlcyBmb3IgdGhlIGNhZ2VuIGNvbXBvbmVudHMuXG5cbiMjI1xuXG5jbGFzcyBWYXJpYWJsZXNcblxuICAgIGNvbnN0cnVjdG9yOiAoKS0+XG4gICAgICAgIEBqTWFpbkNvbnRhaW5lciA9ICQoXCIjY2FnZW4tY29udGFpbmVyXCIpXG4gICAgICAgIEBjdXJyZW50UnVsZSA9IDBcbiAgICAgICAgQHRvcFJvd0JpbmFyeUFycmF5ID0gW11cblxuICAgICAgICByYWRpbygncnVsZXMuc2V0LmN1cnJlbnRydWxlJykuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKGRhdGEpPT5cbiAgICAgICAgICAgICAgICBAc2V0Q3VycmVudFJ1bGUoZGF0YSlcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgKVxuXG4gICAgc2V0Q3VycmVudFJ1bGU6IChuZXdSdWxlKS0+XG4gICAgICAgIEBjdXJyZW50UnVsZSA9IG5ld1J1bGVcblxuICAgIHNldFRvcFJvd0JpbmFyeTogKG5ld0JpbmFyeSktPlxuICAgICAgICBAdG9wUm93QmluYXJ5QXJyYXkgPSBuZXdCaW5hcnlcblxuICAgIGdldFRvcFJvd0JpbmFyeTogKCktPlxuICAgICAgICByZXR1cm4gQHRvcFJvd0JpbmFyeUFycmF5XG4iXX0=


/*

The DOM configuration for the Cellular Automata GENerator (CAGEN).

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata Generator (CAGEN)

Contains the settings for the DOM objects.

Holds ids and classes of relevant DOM objects.
 */
var DOM;

DOM = (function() {
  function DOM() {}

  DOM.ids = {
    'BOARD': {
      'CONTAINER': 'cagen-board',
      'MESSAGE_CONTAINER': 'cagen-generatemessage-container'
    },
    'CAGEN': {
      'MAIN_CONTAINER': 'cagen-container'
    },
    'GENERATOR': {
      'CONTENT_CONTAINER': 'cagen-dashboard-content',
      'RULE_PREVIEW_CONTAINER': 'cagen-rules-preview-container',
      'RULE_DROPDOWN': 'cagen-dash-select-input',
      'RULE_GENERATE_BUTTON': 'cagen-dash-generate-button',
      'TEMPLATE_RULE_PREVIEW_CELL': 'tmpl-cagen-dash-preview-cell',
      'TEMPLATE_BOARD': 'tmpl-cagen-dash-board',
      'TEMPLATE_MAIN_CONTAINER': 'tmpl-cagen-dashboard'
    },
    'TABS': {
      'SCREENSHOTS': 'tab-rulethumbnails',
      'TOPROWEDITOR': 'tab-toproweditor',
      'GENERATOR': 'tab-generator'
    },
    'TOPROWEDITOR': {
      'BUTTON_GENERATE': 'rowed-button-generate',
      'BUTTON_RESET': 'rowed-button-resetrow',
      'EDITOR_CONTAINER': 'rowed-editor-container',
      'ROW_CONTAINER': 'rowed-slider-row-container',
      'SLIDER_CONTAINER': 'rowed-slider-container',
      'SLIDER': 'rowed-slider',
      'SLIDER_ARROW_LEFT': 'rowed-slider-arrow-left',
      'SLIDER_ARROW_RIGHT': 'rowed-slider-arrow-right',
      'TEMPLATE_TOPROWEDITOR': 'tmpl-cagen-toproweditor',
      'TEMPLATE_SLIDER_CELL': 'tmpl-rowed-slider-cell',
      'TEMPLATE_EDITOR_CELL': 'tmpl-rowed-editor-cell'
    }
  };

  DOM.classes = {
    'TOPROWEDITOR': {
      'EDITOR_CELL': 'rowed-editor-cell',
      'EDITOR_CELL_ACTIVE': 'rowed-editor-cell-active',
      'SLIDER_CELL_ACTIVE': 'cagen-board-cell-active'
    },
    'GENERATOR': {
      'RULE_PREVIEW_CELL_ACTIVE': 'cagen-dash-preview-cell-active'
    }
  };

  DOM.prefixes = {
    'TOPROWEDITOR': {
      'SLIDER_COL': 'rowed-slider-col-'
    },
    'GENERATOR': {
      'RULE_PREVIEW_CELL': 'cagen-dash-preview-',
      'RULE_PREVIEW_DIGIT': 'cagen-dash-preview-digit-'
    }
  };

  DOM.elemById = function(section, element) {
    return document.getElementById(this.getID(section, element));
  };

  DOM.elemByPrefix = function(section, prefix, suffix) {
    return document.getElementById(this.getPrefix(section, prefix) + suffix);
  };

  DOM.getClass = function(section, element) {
    return this.classes[section][element];
  };

  DOM.getID = function(section, element) {
    if (!this.ids.hasOwnProperty(section)) {
      console.log("DOM::getID() - Unable to find `" + section + "`");
      return void 0;
    }
    if (!this.ids[section].hasOwnProperty(element)) {
      console.log("DOM::getID() - Unable to find `" + element + "`");
      return void 0;
    }
    return this.ids[section][element];
  };

  DOM.getPrefix = function(section, prefix) {
    return this.prefixes[section][prefix];
  };

  return DOM;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRE9NLmpzIiwic291cmNlcyI6WyJET00uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBOztBQWNNOzs7RUFDRixHQUFDLENBQUEsR0FBRCxHQUFPO0lBQ0gsT0FBQSxFQUFRO01BQ0osV0FBQSxFQUFZLGFBRFI7TUFFSixtQkFBQSxFQUFvQixpQ0FGaEI7S0FETDtJQUtILE9BQUEsRUFBUTtNQUNKLGdCQUFBLEVBQWlCLGlCQURiO0tBTEw7SUFRSCxXQUFBLEVBQVk7TUFDUixtQkFBQSxFQUFvQix5QkFEWjtNQUVSLHdCQUFBLEVBQXlCLCtCQUZqQjtNQUdSLGVBQUEsRUFBZ0IseUJBSFI7TUFJUixzQkFBQSxFQUF1Qiw0QkFKZjtNQUtSLDRCQUFBLEVBQTZCLDhCQUxyQjtNQU1SLGdCQUFBLEVBQWlCLHVCQU5UO01BT1IseUJBQUEsRUFBMEIsc0JBUGxCO0tBUlQ7SUFpQkgsTUFBQSxFQUFPO01BQ0gsYUFBQSxFQUFjLG9CQURYO01BRUgsY0FBQSxFQUFlLGtCQUZaO01BR0gsV0FBQSxFQUFZLGVBSFQ7S0FqQko7SUFzQkgsY0FBQSxFQUFlO01BQ1gsaUJBQUEsRUFBbUIsdUJBRFI7TUFFWCxjQUFBLEVBQWdCLHVCQUZMO01BR1gsa0JBQUEsRUFBb0Isd0JBSFQ7TUFJWCxlQUFBLEVBQWlCLDRCQUpOO01BS1gsa0JBQUEsRUFBb0Isd0JBTFQ7TUFNWCxRQUFBLEVBQVMsY0FORTtNQU9YLG1CQUFBLEVBQW9CLHlCQVBUO01BUVgsb0JBQUEsRUFBcUIsMEJBUlY7TUFTWCx1QkFBQSxFQUF5Qix5QkFUZDtNQVVYLHNCQUFBLEVBQXVCLHdCQVZaO01BV1gsc0JBQUEsRUFBdUIsd0JBWFo7S0F0Qlo7OztFQXFDUCxHQUFDLENBQUEsT0FBRCxHQUFXO0lBQ1AsY0FBQSxFQUFlO01BQ1gsYUFBQSxFQUFjLG1CQURIO01BRVgsb0JBQUEsRUFBcUIsMEJBRlY7TUFHWCxvQkFBQSxFQUFxQix5QkFIVjtLQURSO0lBTVAsV0FBQSxFQUFZO01BQ1IsMEJBQUEsRUFBMkIsZ0NBRG5CO0tBTkw7OztFQVdYLEdBQUMsQ0FBQSxRQUFELEdBQVk7SUFDUixjQUFBLEVBQWU7TUFDWCxZQUFBLEVBQWEsbUJBREY7S0FEUDtJQUlSLFdBQUEsRUFBWTtNQUNSLG1CQUFBLEVBQW9CLHFCQURaO01BRVIsb0JBQUEsRUFBcUIsMkJBRmI7S0FKSjs7O0VBYVosR0FBQyxDQUFBLFFBQUQsR0FBVSxTQUFDLE9BQUQsRUFBVSxPQUFWO0FBQ04sV0FBTyxRQUFRLENBQUMsY0FBVCxDQUF3QixJQUFDLENBQUEsS0FBRCxDQUFPLE9BQVAsRUFBZ0IsT0FBaEIsQ0FBeEI7RUFERDs7RUFHVixHQUFDLENBQUEsWUFBRCxHQUFjLFNBQUMsT0FBRCxFQUFVLE1BQVYsRUFBa0IsTUFBbEI7QUFDVixXQUFPLFFBQVEsQ0FBQyxjQUFULENBQXdCLElBQUMsQ0FBQSxTQUFELENBQVcsT0FBWCxFQUFvQixNQUFwQixDQUFBLEdBQThCLE1BQXREO0VBREc7O0VBR2QsR0FBQyxDQUFBLFFBQUQsR0FBVSxTQUFDLE9BQUQsRUFBVSxPQUFWO0FBQ04sV0FBTyxJQUFDLENBQUEsT0FBUSxDQUFBLE9BQUEsQ0FBUyxDQUFBLE9BQUE7RUFEbkI7O0VBR1YsR0FBQyxDQUFBLEtBQUQsR0FBTyxTQUFDLE9BQUQsRUFBVSxPQUFWO0lBRUgsSUFBRyxDQUFJLElBQUMsQ0FBQSxHQUFHLENBQUMsY0FBTCxDQUFvQixPQUFwQixDQUFQO01BQ0ksT0FBTyxDQUFDLEdBQVIsQ0FBWSxpQ0FBQSxHQUFrQyxPQUFsQyxHQUEwQyxHQUF0RDtBQUNBLGFBQU8sT0FGWDs7SUFJQSxJQUFHLENBQUksSUFBQyxDQUFBLEdBQUksQ0FBQSxPQUFBLENBQVEsQ0FBQyxjQUFkLENBQTZCLE9BQTdCLENBQVA7TUFDSSxPQUFPLENBQUMsR0FBUixDQUFZLGlDQUFBLEdBQWtDLE9BQWxDLEdBQTBDLEdBQXREO0FBQ0EsYUFBTyxPQUZYOztBQUlBLFdBQU8sSUFBQyxDQUFBLEdBQUksQ0FBQSxPQUFBLENBQVMsQ0FBQSxPQUFBO0VBVmxCOztFQVlQLEdBQUMsQ0FBQSxTQUFELEdBQVcsU0FBQyxPQUFELEVBQVUsTUFBVjtBQUNQLFdBQU8sSUFBQyxDQUFBLFFBQVMsQ0FBQSxPQUFBLENBQVMsQ0FBQSxNQUFBO0VBRG5CIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG5cblRoZSBET00gY29uZmlndXJhdGlvbiBmb3IgdGhlIENlbGx1bGFyIEF1dG9tYXRhIEdFTmVyYXRvciAoQ0FHRU4pLlxuXG5AYXV0aG9yIERlc3RpbiBNb3VsdG9uXG5AZ2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXN0aW5tb3VsdG9uL2NhZ2VuXG5AbGljZW5zZSBNSVRcblxuQ29tcG9uZW50IG9mIENlbGx1bGFyIEF1dG9tYXRhIEdlbmVyYXRvciAoQ0FHRU4pXG5cbkNvbnRhaW5zIHRoZSBzZXR0aW5ncyBmb3IgdGhlIERPTSBvYmplY3RzLlxuXG5Ib2xkcyBpZHMgYW5kIGNsYXNzZXMgb2YgcmVsZXZhbnQgRE9NIG9iamVjdHMuXG4jIyNcbmNsYXNzIERPTVxuICAgIEBpZHMgPSB7XG4gICAgICAgICdCT0FSRCc6e1xuICAgICAgICAgICAgJ0NPTlRBSU5FUic6J2NhZ2VuLWJvYXJkJyxcbiAgICAgICAgICAgICdNRVNTQUdFX0NPTlRBSU5FUic6J2NhZ2VuLWdlbmVyYXRlbWVzc2FnZS1jb250YWluZXInXG4gICAgICAgIH0sXG4gICAgICAgICdDQUdFTic6e1xuICAgICAgICAgICAgJ01BSU5fQ09OVEFJTkVSJzonY2FnZW4tY29udGFpbmVyJ1xuICAgICAgICB9LFxuICAgICAgICAnR0VORVJBVE9SJzp7XG4gICAgICAgICAgICAnQ09OVEVOVF9DT05UQUlORVInOidjYWdlbi1kYXNoYm9hcmQtY29udGVudCcsXG4gICAgICAgICAgICAnUlVMRV9QUkVWSUVXX0NPTlRBSU5FUic6J2NhZ2VuLXJ1bGVzLXByZXZpZXctY29udGFpbmVyJyxcbiAgICAgICAgICAgICdSVUxFX0RST1BET1dOJzonY2FnZW4tZGFzaC1zZWxlY3QtaW5wdXQnLFxuICAgICAgICAgICAgJ1JVTEVfR0VORVJBVEVfQlVUVE9OJzonY2FnZW4tZGFzaC1nZW5lcmF0ZS1idXR0b24nLFxuICAgICAgICAgICAgJ1RFTVBMQVRFX1JVTEVfUFJFVklFV19DRUxMJzondG1wbC1jYWdlbi1kYXNoLXByZXZpZXctY2VsbCcsXG4gICAgICAgICAgICAnVEVNUExBVEVfQk9BUkQnOid0bXBsLWNhZ2VuLWRhc2gtYm9hcmQnLFxuICAgICAgICAgICAgJ1RFTVBMQVRFX01BSU5fQ09OVEFJTkVSJzondG1wbC1jYWdlbi1kYXNoYm9hcmQnXG4gICAgICAgIH0sXG4gICAgICAgICdUQUJTJzp7XG4gICAgICAgICAgICAnU0NSRUVOU0hPVFMnOid0YWItcnVsZXRodW1ibmFpbHMnLFxuICAgICAgICAgICAgJ1RPUFJPV0VESVRPUic6J3RhYi10b3Byb3dlZGl0b3InLFxuICAgICAgICAgICAgJ0dFTkVSQVRPUic6J3RhYi1nZW5lcmF0b3InICBcbiAgICAgICAgfSxcbiAgICAgICAgJ1RPUFJPV0VESVRPUic6e1xuICAgICAgICAgICAgJ0JVVFRPTl9HRU5FUkFURSc6ICdyb3dlZC1idXR0b24tZ2VuZXJhdGUnLFxuICAgICAgICAgICAgJ0JVVFRPTl9SRVNFVCc6ICdyb3dlZC1idXR0b24tcmVzZXRyb3cnLFxuICAgICAgICAgICAgJ0VESVRPUl9DT05UQUlORVInOiAncm93ZWQtZWRpdG9yLWNvbnRhaW5lcicsXG4gICAgICAgICAgICAnUk9XX0NPTlRBSU5FUic6ICdyb3dlZC1zbGlkZXItcm93LWNvbnRhaW5lcicsXG4gICAgICAgICAgICAnU0xJREVSX0NPTlRBSU5FUic6ICdyb3dlZC1zbGlkZXItY29udGFpbmVyJyxcbiAgICAgICAgICAgICdTTElERVInOidyb3dlZC1zbGlkZXInLFxuICAgICAgICAgICAgJ1NMSURFUl9BUlJPV19MRUZUJzoncm93ZWQtc2xpZGVyLWFycm93LWxlZnQnLFxuICAgICAgICAgICAgJ1NMSURFUl9BUlJPV19SSUdIVCc6J3Jvd2VkLXNsaWRlci1hcnJvdy1yaWdodCcsXG4gICAgICAgICAgICAnVEVNUExBVEVfVE9QUk9XRURJVE9SJzogJ3RtcGwtY2FnZW4tdG9wcm93ZWRpdG9yJyxcbiAgICAgICAgICAgICdURU1QTEFURV9TTElERVJfQ0VMTCc6J3RtcGwtcm93ZWQtc2xpZGVyLWNlbGwnLFxuICAgICAgICAgICAgJ1RFTVBMQVRFX0VESVRPUl9DRUxMJzondG1wbC1yb3dlZC1lZGl0b3ItY2VsbCdcbiAgICAgICAgfSxcbiAgICB9XG5cbiAgICBAY2xhc3NlcyA9IHtcbiAgICAgICAgJ1RPUFJPV0VESVRPUic6e1xuICAgICAgICAgICAgJ0VESVRPUl9DRUxMJzoncm93ZWQtZWRpdG9yLWNlbGwnLFxuICAgICAgICAgICAgJ0VESVRPUl9DRUxMX0FDVElWRSc6J3Jvd2VkLWVkaXRvci1jZWxsLWFjdGl2ZScsXG4gICAgICAgICAgICAnU0xJREVSX0NFTExfQUNUSVZFJzonY2FnZW4tYm9hcmQtY2VsbC1hY3RpdmUnXG4gICAgICAgIH0sXG4gICAgICAgICdHRU5FUkFUT1InOntcbiAgICAgICAgICAgICdSVUxFX1BSRVZJRVdfQ0VMTF9BQ1RJVkUnOidjYWdlbi1kYXNoLXByZXZpZXctY2VsbC1hY3RpdmUnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAcHJlZml4ZXMgPSB7XG4gICAgICAgICdUT1BST1dFRElUT1InOntcbiAgICAgICAgICAgICdTTElERVJfQ09MJzoncm93ZWQtc2xpZGVyLWNvbC0nXG4gICAgICAgIH0sXG4gICAgICAgICdHRU5FUkFUT1InOntcbiAgICAgICAgICAgICdSVUxFX1BSRVZJRVdfQ0VMTCc6J2NhZ2VuLWRhc2gtcHJldmlldy0nLFxuICAgICAgICAgICAgJ1JVTEVfUFJFVklFV19ESUdJVCc6J2NhZ2VuLWRhc2gtcHJldmlldy1kaWdpdC0nXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAjXG4gICAgIyBHZXQgYW4gZWxlbWVudCBieSBpZFxuICAgICNcbiAgICBAZWxlbUJ5SWQ6KHNlY3Rpb24sIGVsZW1lbnQpIC0+XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChAZ2V0SUQoc2VjdGlvbiwgZWxlbWVudCkpXG5cbiAgICBAZWxlbUJ5UHJlZml4OihzZWN0aW9uLCBwcmVmaXgsIHN1ZmZpeCkgLT5cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEBnZXRQcmVmaXgoc2VjdGlvbiwgcHJlZml4KSArIHN1ZmZpeClcblxuICAgIEBnZXRDbGFzczooc2VjdGlvbiwgZWxlbWVudCkgLT5cbiAgICAgICAgcmV0dXJuIEBjbGFzc2VzW3NlY3Rpb25dW2VsZW1lbnRdXG5cbiAgICBAZ2V0SUQ6KHNlY3Rpb24sIGVsZW1lbnQpIC0+XG5cbiAgICAgICAgaWYgbm90IEBpZHMuaGFzT3duUHJvcGVydHkoc2VjdGlvbilcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRE9NOjpnZXRJRCgpIC0gVW5hYmxlIHRvIGZpbmQgYFwiK3NlY3Rpb24rXCJgXCIpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG5cbiAgICAgICAgaWYgbm90IEBpZHNbc2VjdGlvbl0uaGFzT3duUHJvcGVydHkoZWxlbWVudClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRE9NOjpnZXRJRCgpIC0gVW5hYmxlIHRvIGZpbmQgYFwiK2VsZW1lbnQrXCJgXCIpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIEBpZHNbc2VjdGlvbl1bZWxlbWVudF1cbiAgICBcbiAgICBAZ2V0UHJlZml4OihzZWN0aW9uLCBwcmVmaXgpLT5cbiAgICAgICAgcmV0dXJuIEBwcmVmaXhlc1tzZWN0aW9uXVtwcmVmaXhdIl19


/*
CAGEN: Cellular Automata GENerator

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Generate a cellular automata board based on a passed rule.
 */
var Board;

Board = (function() {
  function Board(VariablesInstance) {
    this._Vars = VariablesInstance;
    this._generateMessageContainerID = '#';
    this._boardNoCellsWide = 0;
    this._boardNoCellsHigh = 0;
    this._boardCellWidthPx = 5;
    this._boardCellHeightPx = 5;
    this._cellBaseClass = 'cagen-board-cell';
    this._cellActiveClass = 'cagen-board-cell-active';
    this._cellIDPrefix = 'sb_';
    this._currentRow = 1;
    this._rootRowBinary = [];
    this._currentCells = [];
    this._RuleMatcher = new RuleMatcher();
  }

  Board.prototype.buildBoard = function(rootRowBinary, noCellsWide, noSectionsHigh) {
    this._boardElem = document.getElementById(DOM.getID('BOARD', 'CONTAINER'));
    this._messageElem = document.getElementById(DOM.getID('BOARD', 'MESSAGE_CONTAINER'));
    this._rootRowBinary = rootRowBinary;
    this._RuleMatcher.setCurrentRule(this._Vars.currentRule);
    this._boardNoCellsWide = noCellsWide;
    this._boardNoCellsHigh = noSectionsHigh;
    this._boardElem.innerWidth = noCellsWide * this._boardCellWidthPx;
    this._boardElem.innerHeight = noSectionsHigh * this._boardCellHeightPx;
    this._boardElem.innerHtml = "";
    this._boardElem.style.display = "none";
    this._currentRow = 1;
    this._messageElem.style.display = "block";
    return setTimeout((function(_this) {
      return function() {
        _this._generateRows();
        _this._messageElem.style.display = "none";
        return _this._boardElem.style.display = "block";
      };
    })(this), 500);
  };

  Board.prototype.getCurrentRule = function() {
    return this._RuleMatcher.getCurrentRule();
  };

  Board.prototype._generateRows = function() {
    var i, ref, results, row;
    this._buildTopRow();
    results = [];
    for (row = i = 2, ref = this._boardNoCellsHigh; 2 <= ref ? i <= ref : i >= ref; row = 2 <= ref ? ++i : --i) {
      this._currentRow = row;
      results.push(this._buildRow(row));
    }
    return results;
  };

  Board.prototype._buildRow = function(row) {
    var col, i, oneIndex, ref, twoIndex, zeroIndex;
    for (col = i = 1, ref = this._boardNoCellsWide; 1 <= ref ? i <= ref : i >= ref; col = 1 <= ref ? ++i : --i) {
      zeroIndex = this._currentCells[row - 1][col - 1];
      if (zeroIndex === void 0) {
        zeroIndex = this._currentCells[row - 1][this._boardNoCellsWide];
      }
      oneIndex = this._currentCells[row - 1][col];
      twoIndex = this._currentCells[row - 1][col + 1];
      if (twoIndex === void 0) {
        twoIndex = this._currentCells[row - 1][1];
      }
      if (this._RuleMatcher.match(zeroIndex, oneIndex, twoIndex) === 0) {
        this._getCellHtml(row, col, false);
      } else {
        this._getCellHtml(row, col, true);
      }
    }
    return this._currentRow++;
  };

  Board.prototype._buildTopRow = function() {
    var cell, col, i, ref;
    for (col = i = 1, ref = this._boardNoCellsWide; 1 <= ref ? i <= ref : i >= ref; col = 1 <= ref ? ++i : --i) {
      cell = this._rootRowBinary[col];
      if (cell === 1) {
        this._getCellHtml(this._currentRow, col, true);
      } else {
        this._getCellHtml(this._currentRow, col, false);
      }
    }
    return this._currentRow++;
  };

  Board.prototype._getCellHtml = function(row, col, active) {
    var tmpCell, tmpClass, tmpID, tmpLeftPx, tmpTopPx;
    if (!this._currentCells[row]) {
      this._currentCells[row] = [];
    }
    this._currentCells[row][col] = active ? 1 : 0;
    tmpID = this._cellIDPrefix + this._currentRow + "_" + col;
    tmpLeftPx = (col - 1) * this._boardCellWidthPx;
    tmpTopPx = (row - 1) * this._boardCellHeightPx;
    tmpCell = document.createElement('div');
    tmpCell.setAttribute('id', tmpID);
    tmpCell.style.top = tmpTopPx + "px";
    tmpCell.style.left = tmpLeftPx + "px";
    tmpClass = this._cellBaseClass;
    if (active) {
      tmpClass += " " + this._cellActiveClass;
    }
    tmpCell.setAttribute('class', "" + tmpClass);
    return this._boardElem.appendChild(tmpCell);
  };

  return Board;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9hcmQuanMiLCJzb3VyY2VzIjpbIkJvYXJkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7OztBQUFBLElBQUE7O0FBWU07RUFNVyxlQUFDLGlCQUFEO0lBQ1QsSUFBQyxDQUFBLEtBQUQsR0FBUztJQUdULElBQUMsQ0FBQSwyQkFBRCxHQUErQjtJQUUvQixJQUFDLENBQUEsaUJBQUQsR0FBcUI7SUFDckIsSUFBQyxDQUFBLGlCQUFELEdBQXFCO0lBQ3JCLElBQUMsQ0FBQSxpQkFBRCxHQUFxQjtJQUNyQixJQUFDLENBQUEsa0JBQUQsR0FBc0I7SUFDdEIsSUFBQyxDQUFBLGNBQUQsR0FBa0I7SUFDbEIsSUFBQyxDQUFBLGdCQUFELEdBQW9CO0lBQ3BCLElBQUMsQ0FBQSxhQUFELEdBQWlCO0lBQ2pCLElBQUMsQ0FBQSxXQUFELEdBQWU7SUFFZixJQUFDLENBQUEsY0FBRCxHQUFrQjtJQUNsQixJQUFDLENBQUEsYUFBRCxHQUFpQjtJQUNqQixJQUFDLENBQUEsWUFBRCxHQUFvQixJQUFBLFdBQUEsQ0FBQTtFQWpCWDs7a0JBd0JiLFVBQUEsR0FBWSxTQUFDLGFBQUQsRUFBZ0IsV0FBaEIsRUFBNkIsY0FBN0I7SUFFUixJQUFDLENBQUEsVUFBRCxHQUFjLFFBQVEsQ0FBQyxjQUFULENBQXdCLEdBQUcsQ0FBQyxLQUFKLENBQVUsT0FBVixFQUFtQixXQUFuQixDQUF4QjtJQUNkLElBQUMsQ0FBQSxZQUFELEdBQWdCLFFBQVEsQ0FBQyxjQUFULENBQXdCLEdBQUcsQ0FBQyxLQUFKLENBQVUsT0FBVixFQUFtQixtQkFBbkIsQ0FBeEI7SUFFaEIsSUFBQyxDQUFBLGNBQUQsR0FBa0I7SUFFbEIsSUFBQyxDQUFBLFlBQVksQ0FBQyxjQUFkLENBQTZCLElBQUMsQ0FBQSxLQUFLLENBQUMsV0FBcEM7SUFFQSxJQUFDLENBQUEsaUJBQUQsR0FBcUI7SUFDckIsSUFBQyxDQUFBLGlCQUFELEdBQXFCO0lBQ3JCLElBQUMsQ0FBQSxVQUFVLENB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QUFDLENBQUEsYUFBYyxDQUFBLEdBQUEsQ0FBZixHQUFzQixHQUQxQjs7SUFFQSxJQUFDLENBQUEsYUFBYyxDQUFBLEdBQUEsQ0FBSyxDQUFBLEdBQUEsQ0FBcEIsR0FBOEIsTUFBSCxHQUFlLENBQWYsR0FBc0I7SUFFakQsS0FBQSxHQUFRLElBQUMsQ0FBQSxhQUFELEdBQWUsSUFBQyxDQUFBLFdBQWhCLEdBQTRCLEdBQTVCLEdBQWdDO0lBQ3hDLFNBQUEsR0FBWSxDQUFDLEdBQUEsR0FBSSxDQUFMLENBQUEsR0FBUSxJQUFDLENBQUE7SUFDckIsUUFBQSxHQUFXLENBQUMsR0FBQSxHQUFJLENBQUwsQ0FBQSxHQUFRLElBQUMsQ0FBQTtJQUVwQixPQUFBLEdBQVUsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkI7SUFDVixPQUFPLENBQUMsWUFBUixDQUFxQixJQUFyQixFQUEyQixLQUEzQjtJQUNBLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBZCxHQUFvQixRQUFBLEdBQVc7SUFDL0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFkLEdBQXFCLFNBQUEsR0FBWTtJQUdqQyxRQUFBLEdBQVcsSUFBQyxDQUFBO0lBQ1osSUFBRyxNQUFIO01BQ0ksUUFBQSxJQUFZLEdBQUEsR0FBSSxJQUFDLENBQUEsaUJBRHJCOztJQUdBLE9BQU8sQ0FBQyxZQUFSLENBQXFCLE9BQXJCLEVBQThCLEVBQUEsR0FBRyxRQUFqQztXQUVBLElBQUMsQ0FBQSxVQUFVLENBQUMsV0FBWixDQUF3QixPQUF4QjtFQXRCVSIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuQ0FHRU46IENlbGx1bGFyIEF1dG9tYXRhIEdFTmVyYXRvclxuXG5AYXV0aG9yIERlc3RpbiBNb3VsdG9uXG5AZ2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXN0aW5tb3VsdG9uL2NhZ2VuXG5AbGljZW5zZSBNSVRcblxuR2VuZXJhdGUgYSBjZWxsdWxhciBhdXRvbWF0YSBib2FyZCBiYXNlZCBvbiBhIHBhc3NlZCBydWxlLlxuXG4jIyNcblxuXG5jbGFzcyBCb2FyZFxuXG4gICAgI1xuICAgICMgQ29uc3RydWN0b3IgZm9yIHRoZSBCb2FyZCBjbGFzcy5cbiAgICAjIEluaXRpYWxpemUgdGhlIHNoYXJlZCB2YXJpYWJsZXMgZm9yIHRoZSBib2FyZC5cbiAgICAjIFxuICAgIGNvbnN0cnVjdG9yOiAoVmFyaWFibGVzSW5zdGFuY2UpLT5cbiAgICAgICAgQF9WYXJzID0gVmFyaWFibGVzSW5zdGFuY2VcbiAgICAgICAgXG4gICAgICAgICMgRGVmaW5lIGNvbnRhaW5lciBJRHNcbiAgICAgICAgQF9nZW5lcmF0ZU1lc3NhZ2VDb250YWluZXJJRCA9ICcjJ1xuICAgICAgICBcbiAgICAgICAgQF9ib2FyZE5vQ2VsbHNXaWRlID0gMFxuICAgICAgICBAX2JvYXJkTm9DZWxsc0hpZ2ggPSAwXG4gICAgICAgIEBfYm9hcmRDZWxsV2lkdGhQeCA9IDVcbiAgICAgICAgQF9ib2FyZENlbGxIZWlnaHRQeCA9IDVcbiAgICAgICAgQF9jZWxsQmFzZUNsYXNzID0gJ2NhZ2VuLWJvYXJkLWNlbGwnXG4gICAgICAgIEBfY2VsbEFjdGl2ZUNsYXNzID0gJ2NhZ2VuLWJvYXJkLWNlbGwtYWN0aXZlJ1xuICAgICAgICBAX2NlbGxJRFByZWZpeCA9ICdzYl8nXG4gICAgICAgIEBfY3VycmVudFJvdyA9IDFcbiAgICAgICAgXG4gICAgICAgIEBfcm9vdFJvd0JpbmFyeSA9IFtdXG4gICAgICAgIEBfY3VycmVudENlbGxzID0gW11cbiAgICAgICAgQF9SdWxlTWF0Y2hlciA9IG5ldyBSdWxlTWF0Y2hlcigpXG4gICAgICAgIFxuICAgICNcbiAgICAjIEJ1aWxkIHRoZSBib2FyZC5cbiAgICAjIFRha2UgYSBiaW5hcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJvb3QvdG9wIHJvdyBhbmRcbiAgICAjIHRoZW4gZ2VuZXJhdGUgdGhlIGNlbGxzLlxuICAgICMgXG4gICAgYnVpbGRCb2FyZDogKHJvb3RSb3dCaW5hcnksIG5vQ2VsbHNXaWRlLCBub1NlY3Rpb25zSGlnaCkgLT5cbiAgICAgICAgIyBTZWxlY3QgbG9jYWwgalF1ZXJ5IERPTSBvYmplY3RzXG4gICAgICAgIEBfYm9hcmRFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoRE9NLmdldElEKCdCT0FSRCcsICdDT05UQUlORVInKSk7XG4gICAgICAgIEBfbWVzc2FnZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChET00uZ2V0SUQoJ0JPQVJEJywgJ01FU1NBR0VfQ09OVEFJTkVSJykpO1xuICAgICAgICBcbiAgICAgICAgQF9yb290Um93QmluYXJ5ID0gcm9vdFJvd0JpbmFyeVxuICAgICAgICBcbiAgICAgICAgQF9SdWxlTWF0Y2hlci5zZXRDdXJyZW50UnVsZShAX1ZhcnMuY3VycmVudFJ1bGUpXG5cbiAgICAgICAgQF9ib2FyZE5vQ2VsbHNXaWRlID0gbm9DZWxsc1dpZGVcbiAgICAgICAgQF9ib2FyZE5vQ2VsbHNIaWdoID0gbm9TZWN0aW9uc0hpZ2hcbiAgICAgICAgQF9ib2FyZEVsZW0uaW5uZXJXaWR0aCA9IG5vQ2VsbHNXaWRlICogQF9ib2FyZENlbGxXaWR0aFB4XG4gICAgICAgIEBfYm9hcmRFbGVtLmlubmVySGVpZ2h0ID0gbm9TZWN0aW9uc0hpZ2ggKiBAX2JvYXJkQ2VsbEhlaWdodFB4XG5cbiAgICAgICAgIyBDbGVhciB0aGUgYm9hcmRcbiAgICAgICAgQF9ib2FyZEVsZW0uaW5uZXJIdG1sID0gXCJcIlxuXG4gICAgICAgIEBfYm9hcmRFbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICBAX2N1cnJlbnRSb3cgPSAxXG5cbiAgICAgICAgIyBTaG93IHRoZSBnZW5lcmF0aW5nIG1lc3NhZ2VcbiAgICAgICAgQF9tZXNzYWdlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIHNldFRpbWVvdXQoPT5cbiAgICAgICAgICAgICMgR2VuZXJhdGUgdGhlIHJvd3NcbiAgICAgICAgICAgIEBfZ2VuZXJhdGVSb3dzKClcbiAgICAgICAgICAgIEBfbWVzc2FnZUVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgICAgICBAX2JvYXJkRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgICw1MDApXG5cbiAgICAjXG4gICAgIyBHZXQgdGhlIGN1cnJlbnQgcnVsZSAoYXMgc2VsZWN0ZWQgYnkgdGhlIHVzZXIpXG4gICAgIyBcbiAgICBnZXRDdXJyZW50UnVsZTooKS0+XG4gICAgICAgIHJldHVybiBAX1J1bGVNYXRjaGVyLmdldEN1cnJlbnRSdWxlKClcblxuICAgICNcbiAgICAjIEdlbmVyYXRlIHRoZSByb3dzIGluIHRoZSBib2FyZFxuICAgICMgXG4gICAgX2dlbmVyYXRlUm93czooKS0+XG4gICAgICAgIEBfYnVpbGRUb3BSb3coKVxuXG4gICAgICAgICMgU3RhcnQgYXQgdGhlIDJuZCByb3cgKHRoZSBmaXJzdC9yb290IHJvdyBpcyBhbHJlYWR5IHNldClcbiAgICAgICAgZm9yIHJvdyBpbiBbMi4uQF9ib2FyZE5vQ2VsbHNIaWdoXVxuICAgICAgICAgICAgQF9jdXJyZW50Um93ID0gcm93XG4gICAgICAgICAgICBAX2J1aWxkUm93KHJvdylcbiAgICAgICAgXG5cbiAgICAjXG4gICAgIyBBZGQgdGhlIGJsb2NrcyB0byBhIHJvd1xuICAgICMgXG4gICAgX2J1aWxkUm93OiAocm93KSAtPlxuXG4gICAgICAgICMgTG9vcCBvdmVyIGVhY2ggY29sdW1uIGluIHRoZSBjdXJyZW50IHJvd1xuICAgICAgICBmb3IgY29sIGluIFsxLi5AX2JvYXJkTm9DZWxsc1dpZGVdXG4gICAgICAgICAgICB6ZXJvSW5kZXggPSBAX2N1cnJlbnRDZWxsc1tyb3ctMV1bY29sLTFdXG4gICAgICAgICAgICBpZiB6ZXJvSW5kZXggaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgIyBXcmFwIHRvIHRoZSBlbmQgb2YgdGhlIHJvd1xuICAgICAgICAgICAgICAgICMgd2hlbiBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgICAgemVyb0luZGV4ID0gQF9jdXJyZW50Q2VsbHNbcm93LTFdW0BfYm9hcmROb0NlbGxzV2lkZV1cbiAgICAgICAgICAgIG9uZUluZGV4ID0gQF9jdXJyZW50Q2VsbHNbcm93LTFdW2NvbF1cbiAgICAgICAgICAgIHR3b0luZGV4ID0gQF9jdXJyZW50Q2VsbHNbcm93LTFdW2NvbCsxXVxuICAgICAgICAgICAgaWYgdHdvSW5kZXggaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgIyBXcmFwIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHJvd1xuICAgICAgICAgICAgICAgICMgd2hlbiB0aGUgZW5kIGlzIHJlYWNoZWRcbiAgICAgICAgICAgICAgICB0d29JbmRleCA9IEBfY3VycmVudENlbGxzW3Jvdy0xXVsxXVxuXG4gICAgICAgICAgICAjIERldGVybWluZSB3aGV0aGVyIHRoZSBibG9jayBzaG91bGQgYmUgc2V0IG9yIG5vdFxuICAgICAgICAgICAgaWYgQF9SdWxlTWF0Y2hlci5tYXRjaCh6ZXJvSW5kZXgsIG9uZUluZGV4LCB0d29JbmRleCkgaXMgMFxuICAgICAgICAgICAgICAgIEBfZ2V0Q2VsbEh0bWwocm93LCBjb2wsIGZhbHNlKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBfZ2V0Q2VsbEh0bWwocm93LCBjb2wsIHRydWUpXG5cbiAgICAgICAgQF9jdXJyZW50Um93KytcbiAgICAgICAgXG5cbiAgICAjXG4gICAgIyBBZGQgY2VsbHMgdG8gdGhlIHJvb3QvdG9wIHJvd1xuICAgICMgXG4gICAgX2J1aWxkVG9wUm93OiAtPlxuXG4gICAgICAgICMgQnVpbGQgdGhlIHRvcCByb3cgZnJvbSB0aGUgcm9vdCByb3cgYmluYXJ5XG4gICAgICAgICMgICB0aGlzIGlzIGRlZmluZWQgYnkgdGhlIHJvb3Qgcm93IGVkaXRvclxuICAgICAgICBmb3IgY29sIGluIFsxLi5AX2JvYXJkTm9DZWxsc1dpZGVdXG4gICAgICAgICAgICBjZWxsID0gQF9yb290Um93QmluYXJ5W2NvbF1cbiAgICAgICAgICAgIGlmIGNlbGwgaXMgMVxuICAgICAgICAgICAgICAgIEBfZ2V0Q2VsbEh0bWwoQF9jdXJyZW50Um93LCBjb2wsIHRydWUpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQF9nZXRDZWxsSHRtbChAX2N1cnJlbnRSb3csIGNvbCwgZmFsc2UpXG4gICAgICAgIEBfY3VycmVudFJvdysrXG5cbiAgICAjXG4gICAgIyBHZXQgdGhlIGNlbGwgaHRtbFxuICAgICMgXG4gICAgX2dldENlbGxIdG1sOiAocm93LCBjb2wsIGFjdGl2ZSktPlxuICAgICAgICAjIEFkZCB0aGUgY2VsbCBzdGF0ZSB0byB0aGUgY3VycmVudCBhcnJheVxuICAgICAgICBpZiAhQF9jdXJyZW50Q2VsbHNbcm93XVxuICAgICAgICAgICAgQF9jdXJyZW50Q2VsbHNbcm93XSA9IFtdXG4gICAgICAgIEBfY3VycmVudENlbGxzW3Jvd11bY29sXSA9IGlmIGFjdGl2ZSB0aGVuIDEgZWxzZSAwXG5cbiAgICAgICAgdG1wSUQgPSBAX2NlbGxJRFByZWZpeCtAX2N1cnJlbnRSb3crXCJfXCIrY29sXG4gICAgICAgIHRtcExlZnRQeCA9IChjb2wtMSkqQF9ib2FyZENlbGxXaWR0aFB4XG4gICAgICAgIHRtcFRvcFB4ID0gKHJvdy0xKSpAX2JvYXJkQ2VsbEhlaWdodFB4XG5cbiAgICAgICAgdG1wQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHRtcENlbGwuc2V0QXR0cmlidXRlKCdpZCcsIHRtcElEKVxuICAgICAgICB0bXBDZWxsLnN0eWxlLnRvcCA9IHRtcFRvcFB4ICsgXCJweFwiXG4gICAgICAgIHRtcENlbGwuc3R5bGUubGVmdCA9IHRtcExlZnRQeCArIFwicHhcIlxuICAgICAgICAjIElubGluZSBDU1MgZm9yIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY2VsbFxuXG4gICAgICAgIHRtcENsYXNzID0gQF9jZWxsQmFzZUNsYXNzXG4gICAgICAgIGlmIGFjdGl2ZVxuICAgICAgICAgICAgdG1wQ2xhc3MgKz0gXCIgI3tAX2NlbGxBY3RpdmVDbGFzc31cIlxuXG4gICAgICAgIHRtcENlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsIFwiI3t0bXBDbGFzc31cIilcbiAgICAgICAgXG4gICAgICAgIEBfYm9hcmRFbGVtLmFwcGVuZENoaWxkKHRtcENlbGwpO1xuICAgICAgICAiXX0=


/*

The Generator for the Cellular Automata GENerator (CAGEN).

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata Generator (CAGEN)

Functionality for building the generator for
controlling the cellular automata generation.

- Display a preview of the rules.
- Display the generated board.
 */
var Generator;

Generator = (function() {
  function Generator(VariablesInstance) {
    this._Vars = VariablesInstance;
    this._currentRule = 0;
    this._previewBoxWidth = 40;
    this._noBoardColumns = 151;
    this._noBoardRows = 75;
    this._ruleList = [];
    radio('generator.run').subscribe((function(_this) {
      return function() {
        _this.run();
      };
    })(this));
  }

  Generator.prototype.run = function() {
    var cagenMainElem, generatorTemplateHTML;
    generatorTemplateHTML = DOM.elemById('GENERATOR', 'TEMPLATE_MAIN_CONTAINER').innerHTML;
    cagenMainElem = DOM.elemById('CAGEN', 'MAIN_CONTAINER');
    cagenMainElem.innerHTML = Mustache.render(generatorTemplateHTML, {});
    this._Board = new Board(this._Vars);
    this._setupRuleDropdown();
    this._buildBoard();
    return true;
  };

  Generator.prototype._setupRuleDropdown = function() {
    var dropdownElem, i, optionsHTML, rule;
    dropdownElem = DOM.elemById('GENERATOR', 'RULE_DROPDOWN');
    optionsHTML = "";
    for (rule = i = 0; i <= 255; rule = ++i) {
      optionsHTML += "<option value='" + rule + "'>" + rule + "</option>";
    }
    dropdownElem.innerHTML = optionsHTML;
    dropdownElem.value = this._Vars.currentRule;
    dropdownElem.addEventListener('change', (function(_this) {
      return function(event) {
        return radio('rules.set.currentrule').broadcast(event.target.value);
      };
    })(this));
    return DOM.elemById('GENERATOR', 'RULE_GENERATE_BUTTON').addEventListener('click', (function(_this) {
      return function() {
        return _this._buildBoard();
      };
    })(this));
  };

  Generator.prototype._buildBoard = function() {
    var cellBoardHtml;
    cellBoardHtml = DOM.elemById('GENERATOR', 'TEMPLATE_BOARD').innerHTML;
    DOM.elemById('GENERATOR', 'CONTENT_CONTAINER').innerHTML = Mustache.render(cellBoardHtml, {});
    this._rulesContainerElem = DOM.elemById('GENERATOR', 'RULE_PREVIEW_CONTAINER');
    this._Board.buildBoard(this._Vars.getTopRowBinary(), this._noBoardColumns, this._noBoardRows);
    this._buildRulePreview();
    return true;
  };

  Generator.prototype._buildRulePreview = function() {
    var activeClass, binary, currentRule, i, index, jTmpCell, jTmpDigit, left, leftBit, middleBit, previewCellHtml, rendered, results, rightBit, tmplOptions;
    currentRule = this._Board.getCurrentRule();
    previewCellHtml = DOM.elemById('GENERATOR', 'TEMPLATE_RULE_PREVIEW_CELL').innerHTML;
    activeClass = this._rulesContainerElem.innerHTML = "";
    results = [];
    for (index = i = 7; i >= 0; index = --i) {
      binary = index.toString(2);
      if (binary.length === 2) {
        binary = "0" + binary;
      } else if (binary.length === 1) {
        binary = "00" + binary;
      }
      leftBit = false;
      middleBit = false;
      rightBit = false;
      if (binary.charAt(0) === "1") {
        leftBit = true;
      }
      if (binary.charAt(1) === "1") {
        middleBit = true;
      }
      if (binary.charAt(2) === "1") {
        rightBit = true;
      }
      left = (7 - index) * this._previewBoxWidth;
      tmplOptions = {
        left: left,
        previewIndex: index,
        leftBitActive: leftBit,
        middleBitActive: middleBit,
        rightBitActive: rightBit
      };
      rendered = Mustache.render(previewCellHtml, tmplOptions);
      this._rulesContainerElem.innerHTML += rendered;
      jTmpCell = DOM.elemByPrefix('GENERATOR', 'RULE_PREVIEW_CELL', index);
      jTmpDigit = DOM.elemByPrefix('GENERATOR', 'RULE_PREVIEW_DIGIT', index);
      jTmpCell.classList.remove(DOM.getClass('GENERATOR', 'RULE_PREVIEW_CELL_ACTIVE'));
      jTmpDigit.innerHTML = "0";
      if (currentRule.substr(7 - index, 1) === "1") {
        jTmpCell.classList.add(DOM.getClass('GENERATOR', 'RULE_PREVIEW_CELL_ACTIVE'));
        results.push(jTmpDigit.innerHTML = "1");
      } else {
        results.push(void 0);
      }
    }
    return results;
  };

  return Generator;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VuZXJhdG9yLmpzIiwic291cmNlcyI6WyJHZW5lcmF0b3IuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBaUJNO0VBT1UsbUJBQUMsaUJBQUQ7SUFDUixJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7SUFDaEIsSUFBQyxDQUFBLGdCQUFELEdBQW9CO0lBQ3BCLElBQUMsQ0FBQSxlQUFELEdBQW1CO0lBQ25CLElBQUMsQ0FBQSxZQUFELEdBQWdCO0lBRWhCLElBQUMsQ0FBQSxTQUFELEdBQWE7SUFFYixLQUFBLENBQU0sZUFBTixDQUFzQixDQUFDLFNBQXZCLENBQ0ksQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFBO1FBQ0ksS0FBQyxDQUFBLEdBQUQsQ0FBQTtNQURKO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQURKO0VBVlE7O3NCQW1CWixHQUFBLEdBQUksU0FBQTtBQUNBLFFBQUE7SUFBQSxxQkFBQSxHQUF3QixHQUFHLENBQUMsUUFBSixDQUFhLFdBQWIsRUFBMEIseUJBQTFCLENBQW9ELENBQUM7SUFDN0UsYUFBQSxHQUFnQixHQUFHLENBQUMsUUFBSixDQUFhLE9BQWIsRUFBc0IsZ0JBQXRCO0lBQ2hCLGFBQWEsQ0FBQyxTQUFkLEdBQTBCLFFBQVEsQ0FBQyxNQUFULENBQWdCLHFCQUFoQixFQUFzQyxFQUF0QztJQUcxQixJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsS0FBQSxDQUFNLElBQUMsQ0FBQSxLQUFQO0lBRWQsSUFBQyxDQUFBLGtCQUFELENBQUE7SUFHQSxJQUFDLENBQUEsV0FBRCxDQUFBO0FBRUEsV0FBTztFQWJQOztzQkFrQkosa0JBQUEsR0FBbUIsU0FBQTtBQUNmLFFBQUE7SUFBQSxZQUFBLEdBQWUsR0FBRyxDQUFDLFFBQUosQ0FBYSxXQUFiLEVBQXlCLGVBQXpCO0lBR2YsV0FBQSxHQUFjO0FBQ2QsU0FBWSxrQ0FBWjtNQUNJ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QUFDLENBQUEsbUJBQW1CLENBQUMsU0FBckIsSUFBa0M7TUFFbEMsUUFBQSxHQUFXLEdBQUcsQ0FBQyxZQUFKLENBQWlCLFdBQWpCLEVBQThCLG1CQUE5QixFQUFrRCxLQUFsRDtNQUNYLFNBQUEsR0FBWSxHQUFHLENBQUMsWUFBSixDQUFpQixXQUFqQixFQUE4QixvQkFBOUIsRUFBbUQsS0FBbkQ7TUFFWixRQUFRLENBQUMsU0FBUyxDQUFDLE1BQW5CLENBQTBCLEdBQUcsQ0FBQyxRQUFKLENBQWEsV0FBYixFQUEwQiwwQkFBMUIsQ0FBMUI7TUFDQSxTQUFTLENBQUMsU0FBVixHQUFzQjtNQUN0QixJQUFHLFdBQVcsQ0FBQyxNQUFaLENBQW1CLENBQUEsR0FBRSxLQUFyQixFQUEyQixDQUEzQixDQUFBLEtBQWlDLEdBQXBDO1FBQ0ksUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFuQixDQUF1QixHQUFHLENBQUMsUUFBSixDQUFhLFdBQWIsRUFBMEIsMEJBQTFCLENBQXZCO3FCQUNBLFNBQVMsQ0FBQyxTQUFWLEdBQXNCLEtBRjFCO09BQUEsTUFBQTs2QkFBQTs7QUEzQ0o7O0VBUmUiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcblxuVGhlIEdlbmVyYXRvciBmb3IgdGhlIENlbGx1bGFyIEF1dG9tYXRhIEdFTmVyYXRvciAoQ0FHRU4pLlxuXG5AYXV0aG9yIERlc3RpbiBNb3VsdG9uXG5AZ2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXN0aW5tb3VsdG9uL2NhZ2VuXG5AbGljZW5zZSBNSVRcblxuQ29tcG9uZW50IG9mIENlbGx1bGFyIEF1dG9tYXRhIEdlbmVyYXRvciAoQ0FHRU4pXG5cbkZ1bmN0aW9uYWxpdHkgZm9yIGJ1aWxkaW5nIHRoZSBnZW5lcmF0b3IgZm9yXG5jb250cm9sbGluZyB0aGUgY2VsbHVsYXIgYXV0b21hdGEgZ2VuZXJhdGlvbi5cblxuLSBEaXNwbGF5IGEgcHJldmlldyBvZiB0aGUgcnVsZXMuXG4tIERpc3BsYXkgdGhlIGdlbmVyYXRlZCBib2FyZC5cblxuIyMjXG5jbGFzcyBHZW5lcmF0b3JcblxuICAgICNcbiAgICAjIEdlbmVyYXRvciBDb25zdHJ1Y3RvclxuICAgICMgSW5pdGlhbGl6ZSB0aGUgSURzLCBsb2NhbCBqUXVlcnkgb2JqZWN0cywgYW5kIHNpemVzXG4gICAgIyBmb3IgdGhlIEdlbmVyYXRvci5cbiAgICAjIFxuICAgIGNvbnN0cnVjdG9yOihWYXJpYWJsZXNJbnN0YW5jZSkgLT5cbiAgICAgICAgQF9WYXJzID0gVmFyaWFibGVzSW5zdGFuY2VcblxuICAgICAgICBAX2N1cnJlbnRSdWxlID0gMFxuICAgICAgICBAX3ByZXZpZXdCb3hXaWR0aCA9IDQwXG4gICAgICAgIEBfbm9Cb2FyZENvbHVtbnMgPSAxNTFcbiAgICAgICAgQF9ub0JvYXJkUm93cyA9IDc1XG5cbiAgICAgICAgQF9ydWxlTGlzdCA9IFtdXG5cbiAgICAgICAgcmFkaW8oJ2dlbmVyYXRvci5ydW4nKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoKT0+XG4gICAgICAgICAgICAgICAgQHJ1bigpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIClcblxuICAgICNcbiAgICAjIFNob3cgdGhlIEdlbmVyYXRvclxuICAgICMgXG4gICAgcnVuOigpIC0+XG4gICAgICAgIGdlbmVyYXRvclRlbXBsYXRlSFRNTCA9IERPTS5lbGVtQnlJZCgnR0VORVJBVE9SJywgJ1RFTVBMQVRFX01BSU5fQ09OVEFJTkVSJykuaW5uZXJIVE1MXG4gICAgICAgIGNhZ2VuTWFpbkVsZW0gPSBET00uZWxlbUJ5SWQoJ0NBR0VOJywgJ01BSU5fQ09OVEFJTkVSJylcbiAgICAgICAgY2FnZW5NYWluRWxlbS5pbm5lckhUTUwgPSBNdXN0YWNoZS5yZW5kZXIoZ2VuZXJhdG9yVGVtcGxhdGVIVE1MLHt9KVxuXG4gICAgICAgICMgQnVpbGQgYSBuZXcgQm9hcmRcbiAgICAgICAgQF9Cb2FyZCA9IG5ldyBCb2FyZChAX1ZhcnMpXG4gICAgICAgIFxuICAgICAgICBAX3NldHVwUnVsZURyb3Bkb3duKClcblxuICAgICAgICAjIEZpbmFsIHN0ZXAgaXMgdG8gYnVpbGQgdGhlIGJvYXJkXG4gICAgICAgIEBfYnVpbGRCb2FyZCgpXG5cbiAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICNcbiAgICAjIFNldHVwIHRoZSBydWxlIHNlbGVjdG9yIGRyb3Bkb3duXG4gICAgI1xuICAgIF9zZXR1cFJ1bGVEcm9wZG93bjooKSAtPlxuICAgICAgICBkcm9wZG93bkVsZW0gPSBET00uZWxlbUJ5SWQoJ0dFTkVSQVRPUicsJ1JVTEVfRFJPUERPV04nKVxuICAgICAgICBcbiAgICAgICAgIyBHZW5lcmF0ZSB0aGUgcnVsZSBkcm9wZG93biBvcHRpb25zXG4gICAgICAgIG9wdGlvbnNIVE1MID0gXCJcIlxuICAgICAgICBmb3IgcnVsZSBpbiBbMC4uMjU1XVxuICAgICAgICAgICAgb3B0aW9uc0hUTUwgKz0gXCI8b3B0aW9uIHZhbHVlPScje3J1bGV9Jz4je3J1bGV9PC9vcHRpb24+XCJcbiAgICAgICAgICAgIFxuICAgICAgICBkcm9wZG93bkVsZW0uaW5uZXJIVE1MID0gb3B0aW9uc0hUTUxcblxuICAgICAgICAjIENoYW5nZSB0aGUgY3VycmVudCBydWxlIGZyb20gdGhlIGRyb3Bkb3duXG4gICAgICAgIGRyb3Bkb3duRWxlbS52YWx1ZSA9IEBfVmFycy5jdXJyZW50UnVsZVxuXG4gICAgICAgICMgU2V0dXAgdGhlIGNoYW5nZSBydWxlIGV2ZW50XG4gICAgICAgIGRyb3Bkb3duRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBcbiAgICAgICAgICAgIChldmVudCk9PlxuICAgICAgICAgICAgICAgIHJhZGlvKCdydWxlcy5zZXQuY3VycmVudHJ1bGUnKS5icm9hZGNhc3QoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICApXG5cbiAgICAgICAgIyBTZXR1cCB0aGUgR2VuZXJhdGUgYnV0dG9uIGNsaWNrIGV2ZW50XG4gICAgICAgIERPTS5lbGVtQnlJZCgnR0VORVJBVE9SJywgJ1JVTEVfR0VORVJBVEVfQlVUVE9OJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAgICAgKCk9PkBfYnVpbGRCb2FyZCgpXG4gICAgICAgIClcblxuICAgICNcbiAgICAjIEJ1aWxkIHRoZSBwcmV2aWV3IGJvYXJkIGZyb20gdGhlIHRlbXBsYXRlXG4gICAgIyBcbiAgICBfYnVpbGRCb2FyZDooKSAtPlxuICAgICAgICBjZWxsQm9hcmRIdG1sID0gRE9NLmVsZW1CeUlkKCdHRU5FUkFUT1InLCdURU1QTEFURV9CT0FSRCcpLmlubmVySFRNTFxuICAgICAgICBcbiAgICAgICAgRE9NLmVsZW1CeUlkKCdHRU5FUkFUT1InLCdDT05URU5UX0NPTlRBSU5FUicpLmlubmVySFRNTCA9IE11c3RhY2hlLnJlbmRlcihjZWxsQm9hcmRIdG1sLHt9KVxuXG4gICAgICAgIEBfcnVsZXNDb250YWluZXJFbGVtID0gRE9NLmVsZW1CeUlkKCdHRU5FUkFUT1InLCdSVUxFX1BSRVZJRVdfQ09OVEFJTkVSJylcbiAgICAgICAgXG4gICAgICAgIEBfQm9hcmQuYnVpbGRCb2FyZChAX1ZhcnMuZ2V0VG9wUm93QmluYXJ5KCksIEBfbm9Cb2FyZENvbHVtbnMsIEBfbm9Cb2FyZFJvd3MpXG4gICAgICAgIEBfYnVpbGRSdWxlUHJldmlldygpXG4gICAgICAgIHJldHVybiB0cnVlXG5cbiAgICAjXG4gICAgIyBCdWlsZCB0aGUgUnVsZSBQcmV2aWV3XG4gICAgIyBcbiAgICBfYnVpbGRSdWxlUHJldmlldzogLT5cbiAgICAgICAgY3VycmVudFJ1bGUgPSBAX0JvYXJkLmdldEN1cnJlbnRSdWxlKClcblxuICAgICAgICAjIFVzZSB0aGUgdGVtcGxhdGUgdG8gZ2VuZXJhdGUgdGhlIHByZXZpZXdcbiAgICAgICAgcHJldmlld0NlbGxIdG1sID0gRE9NLmVsZW1CeUlkKCdHRU5FUkFUT1InLCdURU1QTEFURV9SVUxFX1BSRVZJRVdfQ0VMTCcpLmlubmVySFRNTFxuXG4gICAgICAgIGFjdGl2ZUNsYXNzID0gXG4gICAgICAgIEBfcnVsZXNDb250YWluZXJFbGVtLmlubmVySFRNTCA9IFwiXCJcbiAgICAgICAgZm9yIGluZGV4IGluIFs3Li4wXVxuICAgICAgICAgICAgIyBHZXQgdGhlIGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5kZXhcbiAgICAgICAgICAgIGJpbmFyeSA9IGluZGV4LnRvU3RyaW5nKDIpXG5cbiAgICAgICAgICAgICMgUGFkIHRoZSBiaW5hcnkgdG8gMyBiaXRzXG4gICAgICAgICAgICBpZiBiaW5hcnkubGVuZ3RoIGlzIDJcbiAgICAgICAgICAgICAgICBiaW5hcnkgPSBcIjAje2JpbmFyeX1cIlxuICAgICAgICAgICAgZWxzZSBpZiBiaW5hcnkubGVuZ3RoIGlzIDFcbiAgICAgICAgICAgICAgICBiaW5hcnkgPSBcIjAwI3tiaW5hcnl9XCJcblxuICAgICAgICAgICAgIyBDb252ZXJ0IHRoZSBiaW5hcnkgdG8gdXNhYmxlIGJvb2xlYW4gdmFsdWVzIGZvciB0ZW1wbGF0ZVxuICAgICAgICAgICAgbGVmdEJpdCA9IGZhbHNlXG4gICAgICAgICAgICBtaWRkbGVCaXQgPSBmYWxzZVxuICAgICAgICAgICAgcmlnaHRCaXQgPSBmYWxzZVxuXG4gICAgICAgICAgICBpZiBiaW5hcnkuY2hhckF0KDApIGlzIFwiMVwiXG4gICAgICAgICAgICAgICAgbGVmdEJpdCA9IHRydWVcblxuICAgICAgICAgICAgaWYgYmluYXJ5LmNoYXJBdCgxKSBpcyBcIjFcIlxuICAgICAgICAgICAgICAgIG1pZGRsZUJpdCA9IHRydWVcblxuICAgICAgICAgICAgaWYgYmluYXJ5LmNoYXJBdCgyKSBpcyBcIjFcIlxuICAgICAgICAgICAgICAgIHJpZ2h0Qml0ID0gdHJ1ZVxuXG4gICAgICAgICAgICBsZWZ0ID0gKDctaW5kZXgpKkBfcHJldmlld0JveFdpZHRoXG5cbiAgICAgICAgICAgICMgVGhlIHRlbXBsYXRlIG9wdGlvbnMgZm9yIE11c3RhY2hlIHRvIHJlbmRlclxuICAgICAgICAgICAgdG1wbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbGVmdDpsZWZ0LFxuICAgICAgICAgICAgICAgIHByZXZpZXdJbmRleDppbmRleCxcbiAgICAgICAgICAgICAgICBsZWZ0Qml0QWN0aXZlOmxlZnRCaXQsXG4gICAgICAgICAgICAgICAgbWlkZGxlQml0QWN0aXZlOm1pZGRsZUJpdCxcbiAgICAgICAgICAgICAgICByaWdodEJpdEFjdGl2ZTpyaWdodEJpdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZW5kZXJlZCA9IE11c3RhY2hlLnJlbmRlcihwcmV2aWV3Q2VsbEh0bWwsIHRtcGxPcHRpb25zKVxuICAgICAgICAgICAgQF9ydWxlc0NvbnRhaW5lckVsZW0uaW5uZXJIVE1MICs9IHJlbmRlcmVkXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGpUbXBDZWxsID0gRE9NLmVsZW1CeVByZWZpeCgnR0VORVJBVE9SJywgJ1JVTEVfUFJFVklFV19DRUxMJyxpbmRleClcbiAgICAgICAgICAgIGpUbXBEaWdpdCA9IERPTS5lbGVtQnlQcmVmaXgoJ0dFTkVSQVRPUicsICdSVUxFX1BSRVZJRVdfRElHSVQnLGluZGV4KVxuXG4gICAgICAgICAgICBqVG1wQ2VsbC5jbGFzc0xpc3QucmVtb3ZlKERPTS5nZXRDbGFzcygnR0VORVJBVE9SJywgJ1JVTEVfUFJFVklFV19DRUxMX0FDVElWRScpKVxuICAgICAgICAgICAgalRtcERpZ2l0LmlubmVySFRNTCA9IFwiMFwiXG4gICAgICAgICAgICBpZiBjdXJyZW50UnVsZS5zdWJzdHIoNy1pbmRleCwxKSBpcyBcIjFcIlxuICAgICAgICAgICAgICAgIGpUbXBDZWxsLmNsYXNzTGlzdC5hZGQoRE9NLmdldENsYXNzKCdHRU5FUkFUT1InLCAnUlVMRV9QUkVWSUVXX0NFTExfQUNUSVZFJykpXG4gICAgICAgICAgICAgICAgalRtcERpZ2l0LmlubmVySFRNTCA9IFwiMVwiXG4iXX0=


/*
RuleMatcher.coffee

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata Generator (CAGEN)

The rule is a binary string. Each 1 in the binary string
represents a rule to-be-followed in the next row of
generated blocks.

There are 255 rules of 8 block positions.

Rule 0 Example:
111 110 101 100 011 010 001 000
 0   0   0   0   0   0   0   0

Rule 20 Example:
111 110 101 100 011 010 001 000
 0   0   1   0   1   0   0   0

Rule 255 Example:
111 110 101 100 011 010 001 000
 1   1   1   1   1   1   1   1

The position of filled cells on the top row determines
the composition of the next row and so on.
 */
var RuleMatcher;

RuleMatcher = (function() {
  function RuleMatcher() {
    this._binaryRule = "";
    this._patterns = ['111', '110', '101', '100', '011', '010', '001', '000'];
  }

  RuleMatcher.prototype.setCurrentRule = function(decimalRule) {
    return this._binaryRule = this._decToBinary(decimalRule);
  };

  RuleMatcher.prototype.getCurrentRule = function() {
    return this._binaryRule;
  };

  RuleMatcher.prototype.match = function(zeroIndex, oneIndex, twoIndex) {
    var foundPatternIndex, patternToFind;
    patternToFind = "" + zeroIndex + oneIndex + twoIndex;
    foundPatternIndex = this._patterns.indexOf(patternToFind);
    return parseInt(this._binaryRule.substr(foundPatternIndex, 1));
  };

  RuleMatcher.prototype._decToBinary = function(decValue) {
    var binary, i, length, num, ref;
    binary = (parseInt(decValue)).toString(2);
    length = binary.length;
    if (length < 8) {
      for (num = i = ref = length; ref <= 7 ? i <= 7 : i >= 7; num = ref <= 7 ? ++i : --i) {
        binary = "0" + binary;
      }
    }
    return binary;
  };

  return RuleMatcher;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUnVsZU1hdGNoZXIuanMiLCJzb3VyY2VzIjpbIlJ1bGVNYXRjaGVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBZ0NNO0VBTVcscUJBQUE7SUFDVCxJQUFDLENBQUEsV0FBRCxHQUFlO0lBQ2YsSUFBQyxDQUFBLFNBQUQsR0FBYSxDQUNULEtBRFMsRUFFVCxLQUZTLEVBR1QsS0FIUyxFQUlULEtBSlMsRUFLVCxLQUxTLEVBTVQsS0FOUyxFQU9ULEtBUFMsRUFRVCxLQVJTO0VBRko7O3dCQWdCYixjQUFBLEdBQWdCLFNBQUMsV0FBRDtXQUlaLElBQUMsQ0FBQSxXQUFELEdBQWUsSUFBQyxDQUFBLFlBQUQsQ0FBYyxXQUFkO0VBSkg7O3dCQVdoQixjQUFBLEdBQWdCLFNBQUE7QUFDWixXQUFPLElBQUMsQ0FBQTtFQURJOzt3QkFPaEIsS0FBQSxHQUFPLFNBQUMsU0FBRCxFQUFZLFFBQVosRUFBc0IsUUFBdEI7QUFFSCxRQUFBO0lBQUEsYUFBQSxHQUFnQixFQUFBLEdBQUcsU0FBSCxHQUFlLFFBQWYsR0FBMEI7SUFFMUMsaUJBQUEsR0FBb0IsSUFBQyxDQUFBLFNBQVMsQ0FBQyxPQUFYLENBQW1CLGFBQW5CO0FBR3BCLFdBQU8sUUFBQSxDQUFTLElBQUMsQ0FBQSxXQUFXLENBQUMsTUFBYixDQUFvQixpQkFBcEIsRUFBc0MsQ0FBdEMsQ0FBVDtFQVBKOzt3QkFjUCxZQUFBLEdBQWMsU0FBQyxRQUFEO0FBRVYsUUFBQTtJQUFBLE1BQUEsR0FBUyxDQUFDLFFBQUEsQ0FBUyxRQUFULENBQUQsQ0FBb0IsQ0FBQyxRQUFyQixDQUE4QixDQUE5QjtJQUNULE1BQUEsR0FBUyxNQUFNLENBQUM7SUFFaEIsSUFBRyxNQUFBLEdBQVMsQ0FBWjtBQUVJLFdBQVcsOEVBQVg7UUFDSSxNQUFBLEdBQVMsR0FBQSxHQUFJO0FBRGpCLE9BRko7O0FBS0EsV0FBTztFQVZHIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG5SdWxlTWF0Y2hlci5jb2ZmZWVcblxuQGF1dGhvciBEZXN0aW4gTW91bHRvblxuQGdpdCBodHRwczovL2dpdGh1Yi5jb20vZGVzdGlubW91bHRvbi9jYWdlblxuQGxpY2Vuc2UgTUlUXG5cbkNvbXBvbmVudCBvZiBDZWxsdWxhciBBdXRvbWF0YSBHZW5lcmF0b3IgKENBR0VOKVxuXG5UaGUgcnVsZSBpcyBhIGJpbmFyeSBzdHJpbmcuIEVhY2ggMSBpbiB0aGUgYmluYXJ5IHN0cmluZ1xucmVwcmVzZW50cyBhIHJ1bGUgdG8tYmUtZm9sbG93ZWQgaW4gdGhlIG5leHQgcm93IG9mXG5nZW5lcmF0ZWQgYmxvY2tzLlxuXG5UaGVyZSBhcmUgMjU1IHJ1bGVzIG9mIDggYmxvY2sgcG9zaXRpb25zLlxuXG5SdWxlIDAgRXhhbXBsZTpcbjExMSAxMTAgMTAxIDEwMCAwMTEgMDEwIDAwMSAwMDBcbiAwICAgMCAgIDAgICAwICAgMCAgIDAgICAwICAgMFxuXG5SdWxlIDIwIEV4YW1wbGU6XG4xMTEgMTEwIDEwMSAxMDAgMDExIDAxMCAwMDEgMDAwXG4gMCAgIDAgICAxICAgMCAgIDEgICAwICAgMCAgIDBcblxuUnVsZSAyNTUgRXhhbXBsZTpcbjExMSAxMTAgMTAxIDEwMCAwMTEgMDEwIDAwMSAwMDBcbiAxICAgMSAgIDEgICAxICAgMSAgIDEgICAxICAgMVxuXG5UaGUgcG9zaXRpb24gb2YgZmlsbGVkIGNlbGxzIG9uIHRoZSB0b3Agcm93IGRldGVybWluZXNcbnRoZSBjb21wb3NpdGlvbiBvZiB0aGUgbmV4dCByb3cgYW5kIHNvIG9uLlxuXG4jIyNcblxuY2xhc3MgUnVsZU1hdGNoZXJcbiAgICBcbiAgICAjXG4gICAgIyBTZXR1cCB0aGUgbG9jYWwgdmFyaWFibGVzXG4gICAgIyBAY29uc3RydWN0b3JcbiAgICAjIFxuICAgIGNvbnN0cnVjdG9yOiAoKS0+XG4gICAgICAgIEBfYmluYXJ5UnVsZSA9IFwiXCJcbiAgICAgICAgQF9wYXR0ZXJucyA9IFtcbiAgICAgICAgICAgICcxMTEnLFxuICAgICAgICAgICAgJzExMCcsXG4gICAgICAgICAgICAnMTAxJyxcbiAgICAgICAgICAgICcxMDAnLFxuICAgICAgICAgICAgJzAxMScsXG4gICAgICAgICAgICAnMDEwJyxcbiAgICAgICAgICAgICcwMDEnLFxuICAgICAgICAgICAgJzAwMCdcbiAgICAgICAgXVxuXG4gICAgI1xuICAgICMgU2V0IHRoZSBjdXJyZW50IHJ1bGUgZnJvbSBhIGRlY2ltYWwgdmFsdWVcbiAgICAjIFxuICAgIHNldEN1cnJlbnRSdWxlOiAoZGVjaW1hbFJ1bGUpLT5cbiAgICAgICAgIyBUaGUgYmluYXJ5IHJ1bGUgY29udGFpbnMgdGhlIHNlcXVlbmNlIG9mXG4gICAgICAgICMgMCdzIChubyBibG9jaykgYW5kIDEncyAoYmxvY2spIGZvciB0aGVcbiAgICAgICAgIyBuZXh0IHJvdy5cbiAgICAgICAgQF9iaW5hcnlSdWxlID0gQF9kZWNUb0JpbmFyeShkZWNpbWFsUnVsZSlcblxuICAgICNcbiAgICAjIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBydWxlXG4gICAgI1xuICAgICMgQHJldHVybiBzdHJpbmcgQmluYXJ5IHJ1bGVcbiAgICAjIFxuICAgIGdldEN1cnJlbnRSdWxlOiAoKS0+XG4gICAgICAgIHJldHVybiBAX2JpbmFyeVJ1bGVcblxuXG4gICAgI1xuICAgICMgTWF0Y2ggYSBwYXR0ZXJuIGZvciB0aGUgdGhyZWUgYml0IHBvc2l0aW9uc1xuICAgICMgXG4gICAgbWF0Y2g6ICh6ZXJvSW5kZXgsIG9uZUluZGV4LCB0d29JbmRleCktPlxuICAgICAgICAjIE1hdGNoIHRocmVlIGNlbGxzIHdpdGhpblxuICAgICAgICBwYXR0ZXJuVG9GaW5kID0gXCIje3plcm9JbmRleH0je29uZUluZGV4fSN7dHdvSW5kZXh9XCJcblxuICAgICAgICBmb3VuZFBhdHRlcm5JbmRleCA9IEBfcGF0dGVybnMuaW5kZXhPZihwYXR0ZXJuVG9GaW5kKVxuXG4gICAgICAgICMgUmV0dXJuIHRoZSBiaW5hcnkgcnVsZSdzIDAgb3IgMSBtYXBwaW5nXG4gICAgICAgIHJldHVybiBwYXJzZUludChAX2JpbmFyeVJ1bGUuc3Vic3RyKGZvdW5kUGF0dGVybkluZGV4LDEpKVxuXG4gICAgI1xuICAgICMgQ29udmVydCBhIGRlY2ltYWwgdmFsdWUgdG8gaXRzIGJpbmFyeSByZXByZXNlbnRhdGlvblxuICAgICNcbiAgICAjIEByZXR1cm4gc3RyaW5nIEJpbmFyeSBydWxlXG4gICAgIyBcbiAgICBfZGVjVG9CaW5hcnk6IChkZWNWYWx1ZSktPlxuICAgICAgICAjIEdlbmVyYXRlIHRoZSBiaW5hcnkgc3RyaW5nIGZyb20gdGhlIGRlY2ltYWxcbiAgICAgICAgYmluYXJ5ID0gKHBhcnNlSW50KGRlY1ZhbHVlKSkudG9TdHJpbmcoMilcbiAgICAgICAgbGVuZ3RoID0gYmluYXJ5Lmxlbmd0aFxuXG4gICAgICAgIGlmIGxlbmd0aCA8IDhcbiAgICAgICAgICAgICMgUGFkIHRoZSBiaW5hcnkgcmVwcmVzZW5hdGlvbiB3aXRoIGxlYWRpbmcgMCdzXG4gICAgICAgICAgICBmb3IgbnVtIGluIFtsZW5ndGguLjddXG4gICAgICAgICAgICAgICAgYmluYXJ5ID0gXCIwI3tiaW5hcnl9XCJcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGJpbmFyeVxuIl19


/*

Generate the Rule Thumbnails for CAGEN and the event
handler for when a rule thumbnail is clicked.

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata GENerator (CAGEN)


Each rule has a thumbnail. The user can click the thumbnail
to generate the Automata for that rule.
 */
var RuleThumbnails;

RuleThumbnails = (function() {
  function RuleThumbnails(VariablesInstance) {
    this._Vars = VariablesInstance;
    this._idTmplRuleThumbnails = "#tmpl-cagen-rulethumbnails";
    this._classRuleThumbBox = ".cagen-rulethumb-box";
    radio('rulethumbnails.show').subscribe((function(_this) {
      return function() {
        _this.show();
      };
    })(this));
  }

  RuleThumbnails.prototype.show = function() {
    var i, rendered, results, thumbnailHTML;
    this._ruleList = (function() {
      results = [];
      for (i = 0; i <= 255; i++){ results.push(i); }
      return results;
    }).apply(this);
    thumbnailHTML = $(this._idTmplRuleThumbnails).html();
    rendered = Mustache.render(thumbnailHTML, {
      ruleList: this._ruleList
    });
    this._Vars.jMainContainer.html(rendered);
    return $(this._classRuleThumbBox).click((function(_this) {
      return function(event) {
        return _this._ruleThumbBoxClicked(event);
      };
    })(this));
  };

  RuleThumbnails.prototype._ruleThumbBoxClicked = function(event) {
    var jBox, rule;
    jBox = $(event.currentTarget);
    rule = jBox.data('rule');
    radio('rules.set.currentrule').broadcast(rule);
    return radio('tabs.show.dashboard').broadcast();
  };

  return RuleThumbnails;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUnVsZVRodW1ibmFpbHMuanMiLCJzb3VyY2VzIjpbIlJ1bGVUaHVtYm5haWxzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBaUJNO0VBS1csd0JBQUMsaUJBQUQ7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLHFCQUFELEdBQXlCO0lBQ3pCLElBQUMsQ0FBQSxrQkFBRCxHQUFzQjtJQUV0QixLQUFBLENBQU0scUJBQU4sQ0FBNEIsQ0FBQyxTQUE3QixDQUNJLENBQUEsU0FBQSxLQUFBO2FBQUEsU0FBQTtRQUNJLEtBQUMsQ0FBQSxJQUFELENBQUE7TUFESjtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FESjtFQU5TOzsyQkFlYixJQUFBLEdBQU0sU0FBQTtBQUVGLFFBQUE7SUFBQSxJQUFDLENBQUEsU0FBRCxHQUFhOzs7OztJQUdiLGFBQUEsR0FBZ0IsQ0FBQSxDQUFFLElBQUMsQ0FBQSxxQkFBSCxDQUF5QixDQUFDLElBQTFCLENBQUE7SUFDaEIsUUFBQSxHQUFXLFFBQVEsQ0FBQyxNQUFULENBQWdCLGFBQWhCLEVBQStCO01BQUMsUUFBQSxFQUFTLElBQUMsQ0FBQSxTQUFYO0tBQS9CO0lBQ1gsSUFBQyxDQUFBLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBdEIsQ0FBMkIsUUFBM0I7V0FHQSxDQUFBLENBQUUsSUFBQyxDQUFBLGtCQUFILENBQXNCLENBQUMsS0FBdkIsQ0FBNkIsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFDLEtBQUQ7ZUFBUyxLQUFDLENBQUEsb0JBQUQsQ0FBc0IsS0FBdEI7TUFBVDtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBN0I7RUFWRTs7MkJBZ0JOLG9CQUFBLEdBQXFCLFNBQUMsS0FBRDtBQUVqQixRQUFBO0lBQUEsSUFBQSxHQUFPLENBQUEsQ0FBRSxLQUFLLENBQUMsYUFBUjtJQUVQLElBQUEsR0FBTyxJQUFJLENBQUMsSUFBTCxDQUFVLE1BQVY7SUFHUCxLQUFBLENBQU0sdUJBQU4sQ0FBOEIsQ0FBQyxTQUEvQixDQUF5QyxJQUF6QztXQUdBLEtBQUEsQ0FBTSxxQkFBTixDQUE0QixDQUFDLFNBQTdCLENBQUE7RUFWaUIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcblxuR2VuZXJhdGUgdGhlIFJ1bGUgVGh1bWJuYWlscyBmb3IgQ0FHRU4gYW5kIHRoZSBldmVudFxuaGFuZGxlciBmb3Igd2hlbiBhIHJ1bGUgdGh1bWJuYWlsIGlzIGNsaWNrZWQuXG5cbkBhdXRob3IgRGVzdGluIE1vdWx0b25cbkBnaXQgaHR0cHM6Ly9naXRodWIuY29tL2Rlc3Rpbm1vdWx0b24vY2FnZW5cbkBsaWNlbnNlIE1JVFxuXG5Db21wb25lbnQgb2YgQ2VsbHVsYXIgQXV0b21hdGEgR0VOZXJhdG9yIChDQUdFTilcblxuXG5FYWNoIHJ1bGUgaGFzIGEgdGh1bWJuYWlsLiBUaGUgdXNlciBjYW4gY2xpY2sgdGhlIHRodW1ibmFpbFxudG8gZ2VuZXJhdGUgdGhlIEF1dG9tYXRhIGZvciB0aGF0IHJ1bGUuXG5cbiMjI1xuXG5jbGFzcyBSdWxlVGh1bWJuYWlsc1xuXG4gICAgI1xuICAgICMgU2V0dXAgdGhlIGxvY2FsIHZhcmlhYmxlc1xuICAgICMgXG4gICAgY29uc3RydWN0b3I6IChWYXJpYWJsZXNJbnN0YW5jZSktPlxuICAgICAgICBAX1ZhcnMgPSBWYXJpYWJsZXNJbnN0YW5jZVxuXG4gICAgICAgIEBfaWRUbXBsUnVsZVRodW1ibmFpbHMgPSBcIiN0bXBsLWNhZ2VuLXJ1bGV0aHVtYm5haWxzXCJcbiAgICAgICAgQF9jbGFzc1J1bGVUaHVtYkJveCA9IFwiLmNhZ2VuLXJ1bGV0aHVtYi1ib3hcIlxuXG4gICAgICAgIHJhZGlvKCdydWxldGh1bWJuYWlscy5zaG93Jykuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKCk9PlxuICAgICAgICAgICAgICAgIEBzaG93KClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgKVxuXG4gICAgI1xuICAgICMgU2hvdyB0aGUgcnVsZSB0aHVtYm5haWxzXG4gICAgIyBcbiAgICBzaG93OiAoKS0+XG4gICAgICAgICMgU2V0dXAgdGhlIGxpc3Qgb2YgcnVsZXNcbiAgICAgICAgQF9ydWxlTGlzdCA9IFswLi4yNTVdXG5cbiAgICAgICAgIyBDbGVhciB0aGUgY3VycmVudCB0aHVtYm5haWxzIGFuZCBwb3B1bGF0ZSBpdCB2aWEgTXVzdGFjaGUgdGVtcGxhdGVcbiAgICAgICAgdGh1bWJuYWlsSFRNTCA9ICQoQF9pZFRtcGxSdWxlVGh1bWJuYWlscykuaHRtbCgpXG4gICAgICAgIHJlbmRlcmVkID0gTXVzdGFjaGUucmVuZGVyKHRodW1ibmFpbEhUTUwsIHtydWxlTGlzdDpAX3J1bGVMaXN0fSlcbiAgICAgICAgQF9WYXJzLmpNYWluQ29udGFpbmVyLmh0bWwocmVuZGVyZWQpXG5cbiAgICAgICAgIyBTZXR1cCBldmVudHMgZm9yIHdoZW4gdGhlIHJ1bGUgdGh1bWJuYWlscyBhcmUgY2xpY2tlZFxuICAgICAgICAkKEBfY2xhc3NSdWxlVGh1bWJCb3gpLmNsaWNrKChldmVudCk9PkBfcnVsZVRodW1iQm94Q2xpY2tlZChldmVudCkpICAgIFxuXG4gICAgI1xuICAgICMgRXZlbnQgaGFuZGxlciBmb3Igd2hlbiBhIHJ1bGUgdGh1bWJuYWlsIGlzIGNsaWNrZWRcbiAgICAjIFNldHMgdGhlIHJ1bGUgYW5kIHN3aXRjaGVzIHRvIHRoZSBnZW5lcmF0b3JcbiAgICAjIFxuICAgIF9ydWxlVGh1bWJCb3hDbGlja2VkOihldmVudCkgLT5cblxuICAgICAgICBqQm94ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KVxuXG4gICAgICAgIHJ1bGUgPSBqQm94LmRhdGEoJ3J1bGUnKVxuXG4gICAgICAgICMgQ2hhbmdlIHRoZSBjdXJyZW50IHJ1bGVcbiAgICAgICAgcmFkaW8oJ3J1bGVzLnNldC5jdXJyZW50cnVsZScpLmJyb2FkY2FzdChydWxlKVxuXG4gICAgICAgICMgU2hvdyB0aGUgZGFzaGJvYXJkIHZpYSByYWRpbyBwdWIvc3ViIGJyb2FkY2FzdFxuICAgICAgICByYWRpbygndGFicy5zaG93LmRhc2hib2FyZCcpLmJyb2FkY2FzdCgpO1xuXG4iXX0=


/*

The tabbed interface handler.

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata GENerator (CAGEN)


Manage the tabs for the various CAGEN features.
 */
var Tabs;

Tabs = (function() {
  function Tabs(VariablesInstance) {
    this._Vars = VariablesInstance;
    this._classActive = "active";
    this._tabIdPrefix = "#tab-";
    this._tabs = ["rulethumbnails", "toproweditor", "generator"];
  }

  Tabs.prototype.start = function() {
    this.showRuleThumbnailsTab();
    radio('tabs.show.rulethumbnails').subscribe((function(_this) {
      return function() {
        return _this.showRuleThumbnailsTab();
      };
    })(this));
    radio('tabs.show.toproweditor').subscribe((function(_this) {
      return function() {
        return _this.showTopRowEditorTab();
      };
    })(this));
    radio('tabs.show.generator').subscribe((function(_this) {
      return function() {
        return _this.showGeneratorTab();
      };
    })(this));
    DOM.elemById('TABS', 'SCREENSHOTS').addEventListener('click', function(event) {
      radio('tabs.show.rulethumbnails').broadcast();
    });
    DOM.elemById('TABS', 'TOPROWEDITOR').addEventListener('click', function(event) {
      radio('tabs.show.toproweditor').broadcast();
    });
    return DOM.elemById('TABS', 'GENERATOR').addEventListener('click', function(event) {
      radio('tabs.show.generator').broadcast();
    });
  };

  Tabs.prototype.activate = function(tabName) {
    var i, len, ref, tab;
    ref = this._tabs;
    for (i = 0, len = ref.length; i < len; i++) {
      tab = ref[i];
      $(this._tabIdPrefix + tab).removeClass(this._classActive);
    }
    return $(this._tabIdPrefix + tabName).addClass(this._classActive);
  };

  Tabs.prototype.showRuleThumbnailsTab = function() {
    this.activate('rulethumbnails');
    return radio('rulethumbnails.show').broadcast();
  };

  Tabs.prototype.showTopRowEditorTab = function() {
    this.activate('toproweditor');
    return radio('toproweditor.run').broadcast();
  };

  Tabs.prototype.showGeneratorTab = function() {
    this.activate('generator');
    return radio('generator.run').broadcast();
  };

  return Tabs;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFicy5qcyIsInNvdXJjZXMiOlsiVGFicy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQTs7QUFlTTtFQU1XLGNBQUMsaUJBQUQ7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7SUFFaEIsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7SUFDaEIsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQUNMLGdCQURLLEVBRUwsY0FGSyxFQUdMLFdBSEs7RUFOQTs7aUJBZWIsS0FBQSxHQUFNLFNBQUE7SUFFRixJQUFDLENBQUEscUJBQUQsQ0FBQTtJQUdBLEtBQUEsQ0FBTSwwQkFBTixDQUFpQyxDQUFDLFNBQWxDLENBQTRDLENBQUEsU0FBQSxLQUFBO2FBQUEsU0FBQTtlQUFJLEtBQUMsQ0FBQSxxQkFBRCxDQUFBO01BQUo7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQTVDO0lBQ0EsS0FBQSxDQUFNLHdCQUFOLENBQStCLENBQUMsU0FBaEMsQ0FBMEMsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFBO2VBQUksS0FBQyxDQUFBLG1CQUFELENBQUE7TUFBSjtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBMUM7SUFDQSxLQUFBLENBQU0scUJBQU4sQ0FBNEIsQ0FBQyxTQUE3QixDQUF1QyxDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUE7ZUFBSSxLQUFDLENBQUEsZ0JBQUQsQ0FBQTtNQUFKO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUF2QztJQUdBLEdBQUcsQ0FBQyxRQUFKLENBQWEsTUFBYixFQUFxQixhQUFyQixDQUFtQyxDQUFDLGdCQUFwQyxDQUFxRCxPQUFyRCxFQUNJLFNBQUMsS0FBRDtNQUNJLEtBQUEsQ0FBTSwwQkFBTixDQUFpQyxDQUFDLFNBQWxDLENBQUE7SUFESixDQURKO0lBT0EsR0FBRyxDQUFDLFFBQUosQ0FBYSxNQUFiLEVBQXFCLGNBQXJCLENBQW9DLENBQUMsZ0JBQXJDLENBQXNELE9BQXRELEVBQ0ksU0FBQyxLQUFEO01BQ0ksS0FBQSxDQUFNLHdCQUFOLENBQStCLENBQUMsU0FBaEMsQ0FBQTtJQURKLENBREo7V0FPQSxHQUFHLENBQUMsUUFBSixDQUFhLE1BQWIsRUFBcUIsV0FBckIsQ0FBaUMsQ0FBQyxnQkFBbEMsQ0FBbUQsT0FBbkQsRUFDSSxTQUFDLEtBQUQ7TUFDSSxLQUFBLENBQU0scUJBQU4sQ0FBNEIsQ0FBQyxTQUE3QixDQUFBO0lBREosQ0FESjtFQXhCRTs7aUJBaUNOLFFBQUEsR0FBVSxTQUFDLE9BQUQ7QUFDTixRQUFBO0FBQUE7QUFBQSxTQUFBLHFDQUFBOztNQUNJLENBQUEsQ0FBRSxJQUFDLENBQUEsWUFBRCxHQUFjLEdBQWhCLENBQW9CLENBQUMsV0FBckIsQ0FBaUMsSUFBQyxDQUFBLFlBQWxDO0FBREo7V0FHQSxDQUFBLENBQUUsSUFBQyxDQUFBLFlBQUQsR0FBYyxPQUFoQixDQUF3QixDQUFDLFFBQXpCLENBQWtDLElBQUMsQ0FBQSxZQUFuQztFQUpNOztpQkFTVixxQkFBQSxHQUFzQixTQUFBO0lBRWxCLElBQUMsQ0FBQSxRQUFELENBQVUsZ0JBQVY7V0FFQSxLQUFBLENBQU0scUJBQU4sQ0FBNEIsQ0FBQyxTQUE3QixDQUFBO0VBSmtCOztpQkFTdEIsbUJBQUEsR0FBb0IsU0FBQTtJQUVoQixJQUFDLENBQUEsUUFBRCxDQUFVLGNBQVY7V0FFQSxLQUFBLENBQU0sa0JBQU4sQ0FBeUIsQ0FBQyxTQUExQixDQUFBO0VBSmdCOztpQkFVcEIsZ0JBQUEsR0FBaUIsU0FBQTtJQUViLElBQUMsQ0FBQSxRQUFELENBQVUsV0FBVjtXQUVBLEtBQUEsQ0FBTSxlQUFOLENBQXNCLENBQUMsU0FBdkIsQ0FBQTtFQUphIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG5cblRoZSB0YWJiZWQgaW50ZXJmYWNlIGhhbmRsZXIuXG5cbkBhdXRob3IgRGVzdGluIE1vdWx0b25cbkBnaXQgaHR0cHM6Ly9naXRodWIuY29tL2Rlc3Rpbm1vdWx0b24vY2FnZW5cbkBsaWNlbnNlIE1JVFxuXG5Db21wb25lbnQgb2YgQ2VsbHVsYXIgQXV0b21hdGEgR0VOZXJhdG9yIChDQUdFTilcblxuXG5NYW5hZ2UgdGhlIHRhYnMgZm9yIHRoZSB2YXJpb3VzIENBR0VOIGZlYXR1cmVzLlxuXG4jIyNcblxuY2xhc3MgVGFic1xuICAgIFxuICAgICNcbiAgICAjIFNldHVwIHRoZSBsb2NhbCBzaGFyZWQgdmFyaWFibGVzXG4gICAgIyBAY29uc3RydWN0b3JcbiAgICAjIFxuICAgIGNvbnN0cnVjdG9yOiAoVmFyaWFibGVzSW5zdGFuY2UpLT5cbiAgICAgICAgQF9WYXJzID0gVmFyaWFibGVzSW5zdGFuY2VcbiAgICAgICAgXG4gICAgICAgIEBfY2xhc3NBY3RpdmUgPSBcImFjdGl2ZVwiXG5cbiAgICAgICAgQF90YWJJZFByZWZpeCA9IFwiI3RhYi1cIlxuICAgICAgICBAX3RhYnMgPSBbXG4gICAgICAgICAgICBcInJ1bGV0aHVtYm5haWxzXCIsXG4gICAgICAgICAgICBcInRvcHJvd2VkaXRvclwiLFxuICAgICAgICAgICAgXCJnZW5lcmF0b3JcIlxuICAgICAgICAgICAgXVxuXG4gICAgI1xuICAgICMgU3RhcnQgdGhlIHRhYmJlZCBpbnRlcmZhY2VcbiAgICAjIFxuICAgIHN0YXJ0OigpLT5cbiAgICAgICAgIyBTaG93IHRoZSBydWxlIHRodW1ibmFpbHMgZmlyc3RcbiAgICAgICAgQHNob3dSdWxlVGh1bWJuYWlsc1RhYigpXG5cbiAgICAgICAgIyBDcmVhdGUgdGhlIHJhZGlvanMgc3Vic2NyaXB0aW9ucyBmb3IgdGhlIGxvY2FsIGZ1bmN0aW9uc1xuICAgICAgICByYWRpbygndGFicy5zaG93LnJ1bGV0aHVtYm5haWxzJykuc3Vic2NyaWJlKCgpPT5Ac2hvd1J1bGVUaHVtYm5haWxzVGFiKCkpXG4gICAgICAgIHJhZGlvKCd0YWJzLnNob3cudG9wcm93ZWRpdG9yJykuc3Vic2NyaWJlKCgpPT5Ac2hvd1RvcFJvd0VkaXRvclRhYigpKVxuICAgICAgICByYWRpbygndGFicy5zaG93LmdlbmVyYXRvcicpLnN1YnNjcmliZSgoKT0+QHNob3dHZW5lcmF0b3JUYWIoKSlcblxuICAgICAgICAjIFJ1bGUgVGh1bWJuYWlscyB0YWIgY2xpY2tlZCBldmVudFxuICAgICAgICBET00uZWxlbUJ5SWQoJ1RBQlMnLCAnU0NSRUVOU0hPVFMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgICAgICAoZXZlbnQpLT5cbiAgICAgICAgICAgICAgICByYWRpbygndGFicy5zaG93LnJ1bGV0aHVtYm5haWxzJykuYnJvYWRjYXN0KClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgKVxuXG4gICAgICAgICMgQ2xpY2sgdGhlIFRvcCBSb3cgRWRpdG9yIFRhYlxuICAgICAgICBET00uZWxlbUJ5SWQoJ1RBQlMnLCAnVE9QUk9XRURJVE9SJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAgICAgKGV2ZW50KS0+XG4gICAgICAgICAgICAgICAgcmFkaW8oJ3RhYnMuc2hvdy50b3Byb3dlZGl0b3InKS5icm9hZGNhc3QoKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICApXG5cbiAgICAgICAgIyBDbGljayB0aGUgR2VuZXJhdG9yIHRhYlxuICAgICAgICBET00uZWxlbUJ5SWQoJ1RBQlMnLCAnR0VORVJBVE9SJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAgICAgKGV2ZW50KS0+XG4gICAgICAgICAgICAgICAgcmFkaW8oJ3RhYnMuc2hvdy5nZW5lcmF0b3InKS5icm9hZGNhc3QoKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICApXG5cbiAgICAjXG4gICAgIyBBY3RpdmF0ZSBhIHRhYiB2aWEgc3RyaW5nIG5hbWVcbiAgICAjIFxuICAgIGFjdGl2YXRlOiAodGFiTmFtZSktPlxuICAgICAgICBmb3IgdGFiIGluIEBfdGFic1xuICAgICAgICAgICAgJChAX3RhYklkUHJlZml4K3RhYikucmVtb3ZlQ2xhc3MoQF9jbGFzc0FjdGl2ZSlcblxuICAgICAgICAkKEBfdGFiSWRQcmVmaXgrdGFiTmFtZSkuYWRkQ2xhc3MoQF9jbGFzc0FjdGl2ZSlcblxuICAgICNcbiAgICAjIFNob3cgdGhlIFJ1bGUgVGh1bWJuYWlscyB0YWJcbiAgICAjIFxuICAgIHNob3dSdWxlVGh1bWJuYWlsc1RhYjooKSAtPlxuICAgICAgICAjIEFjdGl2YXRlIHRoZSB0YWJcbiAgICAgICAgQGFjdGl2YXRlKCdydWxldGh1bWJuYWlscycpXG5cbiAgICAgICAgcmFkaW8oJ3J1bGV0aHVtYm5haWxzLnNob3cnKS5icm9hZGNhc3QoKVxuXG4gICAgI1xuICAgICMgU2hvdyB0aGUgVG9wIFJvdyBFZGl0b3IgdGFiXG4gICAgIyBcbiAgICBzaG93VG9wUm93RWRpdG9yVGFiOigpIC0+XG4gICAgICAgICMgQWN0aXZhdGUgdGhlIHRhYlxuICAgICAgICBAYWN0aXZhdGUoJ3RvcHJvd2VkaXRvcicpXG5cbiAgICAgICAgcmFkaW8oJ3RvcHJvd2VkaXRvci5ydW4nKS5icm9hZGNhc3QoKVxuICAgICAgICBcblxuICAgICNcbiAgICAjIFNob3cgdGhlIEdlbmVyYXRvciB0YWJcbiAgICAjIFxuICAgIHNob3dHZW5lcmF0b3JUYWI6KCkgLT5cbiAgICAgICAgIyBBY3RpdmF0ZSB0aGUgdGFiXG4gICAgICAgIEBhY3RpdmF0ZSgnZ2VuZXJhdG9yJylcblxuICAgICAgICByYWRpbygnZ2VuZXJhdG9yLnJ1bicpLmJyb2FkY2FzdCgpXG5cbiJdfQ==


/*

The top/root row editor for CAGEN.

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata GENerator (CAGEN)


The user can edit the top/root row, allowing them to "seed"
the generator to test configurations and create new variations
on the standard NKS version.
 */
var TopRowEditor,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

TopRowEditor = (function() {
  function TopRowEditor(VariablesInstance) {
    this._toggleEditorCell = bind(this._toggleEditorCell, this);
    this._moveSlider = bind(this._moveSlider, this);
    this._Vars = VariablesInstance;
    this._editorCellsElems = [];
    this._aRowBinary = [];
    this._noColumns = 151;
    this._colWidth = 5;
    this._rowHeight = 5;
    this._sliderLeft = 0;
    this._sliderCols = 26;
    this._sliderPxToMid = (this._sliderCols / 2) * this._colWidth;
    this._editorCellWidth = 29;
    this._totalWidth = this._colWidth * this._noColumns;
    this._generateInitialBinary();
    radio('toproweditor.run').subscribe((function(_this) {
      return function() {
        _this.run();
      };
    })(this));
  }

  TopRowEditor.prototype.run = function() {
    this._setupContainerTemplate();
    this._sliderElem = DOM.elemById('TOPROWEDITOR', 'SLIDER');
    this._rowContainerElem = DOM.elemById('TOPROWEDITOR', 'ROW_CONTAINER');
    this._jEditorContainer = DOM.elemById('TOPROWEDITOR', 'EDITOR_CONTAINER');
    this._rowContainerElem.style.height = this._rowHeight + "px";
    this._rowContainerElem.style.width = this._totalWidth + "px";
    this._setupSlider();
    this._buildRow();
    this._buildEditorCells();
    this._updateEditorCells(1);
    return this._setupButtonEvents();
  };

  TopRowEditor.prototype._setupContainerTemplate = function() {
    var cagenMainElem, toproweditorHTML;
    toproweditorHTML = DOM.elemById('TOPROWEDITOR', 'TEMPLATE_TOPROWEDITOR').innerHTML;
    cagenMainElem = DOM.elemById('CAGEN', 'MAIN_CONTAINER');
    return cagenMainElem.innerHTML = Mustache.render(toproweditorHTML, {});
  };

  TopRowEditor.prototype._setupSlider = function() {
    var isSliderInDragMode, sliderArrowLeftElem, sliderArrowRightElem, sliderContainerElem;
    sliderContainerElem = DOM.elemById('TOPROWEDITOR', 'SLIDER_CONTAINER');
    sliderContainerElem.style.width = this._totalWidth + "px";
    this._sliderElem.style.width = (this._colWidth * this._sliderCols) + "px";
    sliderArrowLeftElem = DOM.elemById('TOPROWEDITOR', 'SLIDER_ARROW_LEFT');
    sliderArrowRightElem = DOM.elemById('TOPROWEDITOR', 'SLIDER_ARROW_RIGHT');
    isSliderInDragMode = false;
    this._sliderElem.addEventListener('click', (function(_this) {
      return function() {
        if (isSliderInDragMode) {
          isSliderInDragMode = false;
          sliderArrowLeftElem.style.display = "none";
          return sliderArrowRightElem.style.display = "none";
        } else {
          isSliderInDragMode = true;
          sliderArrowLeftElem.style.display = "block";
          return sliderArrowRightElem.style.display = "block";
        }
      };
    })(this));
    this._sliderElem.addEventListener('mousemove', (function(_this) {
      return function(event) {
        if (isSliderInDragMode) {
          return _this._moveSlider(event);
        }
      };
    })(this));
    return this._sliderInitialOffset = this._getOffsetPosition(this._sliderElem);
  };

  TopRowEditor.prototype._setupButtonEvents = function() {
    DOM.elemById('TOPROWEDITOR', 'BUTTON_GENERATE').addEventListener('click', (function(_this) {
      return function() {
        radio('tabs.show.generator').broadcast();
      };
    })(this));
    return DOM.elemById('TOPROWEDITOR', 'BUTTON_RESET').addEventListener('click', (function(_this) {
      return function(event) {
        return _this._resetRow(event);
      };
    })(this));
  };

  TopRowEditor.prototype._getOffsetPosition = function(elem) {
    var left, top;
    top = elem.getBoundingClientRect().top + window.pageYOffset;
    left = elem.getBoundingClientRect().left + window.pageXOffset;
    return {
      top: top,
      left: left
    };
  };

  TopRowEditor.prototype._resetRow = function(event) {
    this._generateInitialBinary();
    return this.run();
  };

  TopRowEditor.prototype._moveSlider = function(ev) {
    var adjustedLeft, closestEdgePx, fullWidth, leftCellNo, leftPos, rightPos, xMousePos;
    xMousePos = ev.clientX;
    closestEdgePx = xMousePos - (xMousePos % this._colWidth);
    leftPos = closestEdgePx - this._sliderPxToMid;
    rightPos = closestEdgePx + this._sliderPxToMid + this._colWidth;
    fullWidth = this._totalWidth + this._colWidth;
    adjustedLeft = leftPos + this._sliderInitialOffset.left;
    if (adjustedLeft >= this._sliderInitialOffset.left && rightPos <= fullWidth) {
      this._sliderElem.style.left = adjustedLeft + "px";
      leftCellNo = (leftPos / this._colWidth) + 1;
      return this._updateEditorCells(leftCellNo);
    }
  };

  TopRowEditor.prototype._updateEditorCells = function(beginCell) {
    var cell, cellPos, j, ref, results;
    results = [];
    for (cell = j = 1, ref = this._sliderCols; 1 <= ref ? j <= ref : j >= ref; cell = 1 <= ref ? ++j : --j) {
      cellPos = cell + beginCell - 1;
      this._editorCellsElems[cell].innerHTML = cellPos;
      this._editorCellsElems[cell].setAttribute('data-cellIndex', cellPos);
      if (this._aRowBinary[cellPos] === 1) {
        results.push(this._editorCellsElems[cell].classList.add(DOM.getClass('TOPROWEDITOR', 'EDITOR_CELL_ACTIVE')));
      } else {
        results.push(this._editorCellsElems[cell].classList.remove(DOM.getClass('TOPROWEDITOR', 'EDITOR_CELL_ACTIVE')));
      }
    }
    return results;
  };

  TopRowEditor.prototype._buildEditorCells = function() {
    var cell, cellHtml, cellTemplateHTML, cells, i, j, k, leftPos, ref, ref1, results, tmpId;
    cellTemplateHTML = DOM.elemById('TOPROWEDITOR', 'TEMPLATE_EDITOR_CELL').innerHTML;
    this._jEditorContainer.style.width = (this._sliderCols * this._editorCellWidth) + "px";
    cellHtml = "";
    for (cell = j = 1, ref = this._sliderCols; 1 <= ref ? j <= ref : j >= ref; cell = 1 <= ref ? ++j : --j) {
      tmpId = "editor-cell-" + cell;
      leftPos = (cell - 1) * this._editorCellWidth;
      cellHtml += Mustache.render(cellTemplateHTML, {
        id: tmpId,
        left: leftPos
      });
    }
    this._jEditorContainer.innerHTML = cellHtml;
    cells = document.getElementsByClassName(DOM.getClass('TOPROWEDITOR', 'EDITOR_CELL'));
    results = [];
    for (i = k = 0, ref1 = cells.length - 1; 0 <= ref1 ? k <= ref1 : k >= ref1; i = 0 <= ref1 ? ++k : --k) {
      this._editorCellsElems[i + 1] = cells[i];
      results.push(cells[i].addEventListener('click', this._toggleEditorCell));
    }
    return results;
  };

  TopRowEditor.prototype._toggleEditorCell = function(event) {
    var cellNo, editorCellElem, sliderCellElem, sliderColPrefix;
    editorCellElem = event.target;
    cellNo = editorCellElem.getAttribute('data-cellIndex');
    sliderColPrefix = DOM.getPrefix('TOPROWEDITOR', 'SLIDER_COL');
    sliderCellElem = document.getElementById(sliderColPrefix + cellNo);
    if (this._aRowBinary[cellNo] === 1) {
      this._aRowBinary[cellNo] = 0;
      editorCellElem.classList.remove(DOM.getClass('TOPROWEDITOR', 'EDITOR_CELL_ACTIVE'));
      sliderCellElem.classList.remove(DOM.getClass('TOPROWEDITOR', 'SLIDER_CELL_ACTIVE'));
    } else {
      this._aRowBinary[cellNo] = 1;
      editorCellElem.classList.add(DOM.getClass('TOPROWEDITOR', 'EDITOR_CELL_ACTIVE'));
      sliderCellElem.classList.add(DOM.getClass('TOPROWEDITOR', 'SLIDER_CELL_ACTIVE'));
    }
    return this._Vars.setTopRowBinary(this._aRowBinary);
  };

  TopRowEditor.prototype._generateInitialBinary = function() {
    var col, j, ref, seed_col;
    seed_col = Math.ceil(this._noColumns / 2);
    for (col = j = 1, ref = this._noColumns; 1 <= ref ? j <= ref : j >= ref; col = 1 <= ref ? ++j : --j) {
      if (col === seed_col) {
        this._aRowBinary[col] = 1;
      } else {
        this._aRowBinary[col] = 0;
      }
    }
    return this._Vars.setTopRowBinary(this._aRowBinary);
  };

  TopRowEditor.prototype._buildRow = function() {
    var activeClass, col, j, leftPos, ref, rowHtml, sliderColPrefix, smallcellTemplateHTML, tmpId;
    smallcellTemplateHTML = DOM.elemById('TOPROWEDITOR', 'TEMPLATE_SLIDER_CELL').innerHTML;
    sliderColPrefix = DOM.getPrefix('TOPROWEDITOR', 'SLIDER_COL');
    rowHtml = "";
    for (col = j = 1, ref = this._noColumns; 1 <= ref ? j <= ref : j >= ref; col = 1 <= ref ? ++j : --j) {
      activeClass = "";
      if (this._aRowBinary[col] === 1) {
        activeClass = DOM.getClass('TOPROWEDITOR', 'SLIDER_CELL_ACTIVE');
      }
      leftPos = (col - 1) * this._colWidth;
      tmpId = sliderColPrefix + col;
      rowHtml += Mustache.render(smallcellTemplateHTML, {
        id: tmpId,
        left: leftPos,
        activeClass: activeClass
      });
    }
    return this._rowContainerElem.innerHTML = rowHtml;
  };

  return TopRowEditor;

})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9wUm93RWRpdG9yLmpzIiwic291cmNlcyI6WyJUb3BSb3dFZGl0b3IuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxZQUFBO0VBQUE7O0FBaUJNO0VBTVcsc0JBQUMsaUJBQUQ7OztJQUNULElBQUMsQ0FBQSxLQUFELEdBQVM7SUFFVCxJQUFDLENBQUEsaUJBQUQsR0FBcUI7SUFFckIsSUFBQyxDQUFBLFdBQUQsR0FBZTtJQUNmLElBQUMsQ0FBQSxVQUFELEdBQWM7SUFDZCxJQUFDLENBQUEsU0FBRCxHQUFhO0lBQ2IsSUFBQyxDQUFBLFVBQUQsR0FBYztJQUNkLElBQUMsQ0FBQSxXQUFELEdBQWU7SUFDZixJQUFDLENBQUEsV0FBRCxHQUFlO0lBQ2YsSUFBQyxDQUFBLGNBQUQsR0FBa0IsQ0FBQyxJQUFDLENBQUEsV0FBRCxHQUFlLENBQWhCLENBQUEsR0FBcUIsSUFBQyxDQUFBO0lBQ3hDLElBQUMsQ0FBQSxnQkFBRCxHQUFvQjtJQUNwQixJQUFDLENBQUEsV0FBRCxHQUFlLElBQUMsQ0FBQSxTQUFELEdBQVcsSUFBQyxDQUFBO0lBRTNCLElBQUMsQ0FBQSxzQkFBRCxDQUFBO0lBRUEsS0FBQSxDQUFNLGtCQUFOLENBQXlCLENBQUMsU0FBMUIsQ0FDSSxDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUE7UUFDSSxLQUFDLENBQUEsR0FBRCxDQUFBO01BREo7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBREo7RUFqQlM7O3lCQTBCYixHQUFBLEdBQUssU0FBQTtJQUVELElBQUMsQ0FBQSx1QkFBRCxDQUFBO0lBR0EsSUFBQyxDQUFBLFdBQUQsR0FBZSxHQUFHLENBQUMsUUFBSixDQUFhLGNBQWIsRUFBNEIsUUFBNUI7SUFDZixJQUFDLENBQUEsaUJBQUQsR0FBcUIsR0FBRyxDQUFDLFFBQUosQ0FBYSxjQUFiLEVBQTZCLGVBQTdCO0lBQ3JCLElBQUMsQ0FBQSxpQkFBRCxHQUFxQixHQUFHLENBQUMs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SUFBQyxDQUFBO01BQ3hCLEtBQUEsR0FBUSxlQUFBLEdBQWtCO01BRzFCLE9BQUEsSUFBVyxRQUFRLENBQUMsTUFBVCxDQUFnQixxQkFBaEIsRUFBdUM7UUFBQyxFQUFBLEVBQUcsS0FBSjtRQUFXLElBQUEsRUFBSyxPQUFoQjtRQUF5QixXQUFBLEVBQVksV0FBckM7T0FBdkM7QUFUZjtXQVlBLElBQUMsQ0FBQSxpQkFBaUIsQ0FBQyxTQUFuQixHQUErQjtFQW5CeEIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcblxuVGhlIHRvcC9yb290IHJvdyBlZGl0b3IgZm9yIENBR0VOLlxuXG5AYXV0aG9yIERlc3RpbiBNb3VsdG9uXG5AZ2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXN0aW5tb3VsdG9uL2NhZ2VuXG5AbGljZW5zZSBNSVRcblxuQ29tcG9uZW50IG9mIENlbGx1bGFyIEF1dG9tYXRhIEdFTmVyYXRvciAoQ0FHRU4pXG5cblxuVGhlIHVzZXIgY2FuIGVkaXQgdGhlIHRvcC9yb290IHJvdywgYWxsb3dpbmcgdGhlbSB0byBcInNlZWRcIlxudGhlIGdlbmVyYXRvciB0byB0ZXN0IGNvbmZpZ3VyYXRpb25zIGFuZCBjcmVhdGUgbmV3IHZhcmlhdGlvbnNcbm9uIHRoZSBzdGFuZGFyZCBOS1MgdmVyc2lvbi5cblxuIyMjXG5cbmNsYXNzIFRvcFJvd0VkaXRvclxuXG4gICAgI1xuICAgICMgU2V0dXAgdGhlIGxvY2FsbHkgc2hhcmVkIHZhcmlhYmxlc1xuICAgICMgQGNvbnN0cnVjdG9yXG4gICAgIyBcbiAgICBjb25zdHJ1Y3RvcjogKFZhcmlhYmxlc0luc3RhbmNlKS0+XG4gICAgICAgIEBfVmFycyA9IFZhcmlhYmxlc0luc3RhbmNlXG4gICAgICAgIFxuICAgICAgICBAX2VkaXRvckNlbGxzRWxlbXMgPSBbXVxuXG4gICAgICAgIEBfYVJvd0JpbmFyeSA9IFtdXG4gICAgICAgIEBfbm9Db2x1bW5zID0gMTUxXG4gICAgICAgIEBfY29sV2lkdGggPSA1XG4gICAgICAgIEBfcm93SGVpZ2h0ID0gNVxuICAgICAgICBAX3NsaWRlckxlZnQgPSAwXG4gICAgICAgIEBfc2xpZGVyQ29scyA9IDI2XG4gICAgICAgIEBfc2xpZGVyUHhUb01pZCA9IChAX3NsaWRlckNvbHMgLyAyKSAqIEBfY29sV2lkdGhcbiAgICAgICAgQF9lZGl0b3JDZWxsV2lkdGggPSAyOVxuICAgICAgICBAX3RvdGFsV2lkdGggPSBAX2NvbFdpZHRoKkBfbm9Db2x1bW5zXG5cbiAgICAgICAgQF9nZW5lcmF0ZUluaXRpYWxCaW5hcnkoKVxuXG4gICAgICAgIHJhZGlvKCd0b3Byb3dlZGl0b3IucnVuJykuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKCk9PlxuICAgICAgICAgICAgICAgIEBydW4oKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICApXG5cbiAgICAjXG4gICAgIyBTdGFydCB0aGUgdG9wIHJvdyBlZGl0b3JcbiAgICAjIFxuICAgIHJ1bjogKCktPlxuICAgICAgICBcbiAgICAgICAgQF9zZXR1cENvbnRhaW5lclRlbXBsYXRlKClcblxuICAgICAgICAjIFNldCB0aGUgbG9jYWwgZWxlbWVudHMgKHRvIGFsbGV2aWF0ZSBsb29rdXBzKSAgICAgICAgXG4gICAgICAgIEBfc2xpZGVyRWxlbSA9IERPTS5lbGVtQnlJZCgnVE9QUk9XRURJVE9SJywnU0xJREVSJylcbiAgICAgICAgQF9yb3dDb250YWluZXJFbGVtID0gRE9NLmVsZW1CeUlkKCdUT1BST1dFRElUT1InLCAnUk9XX0NPTlRBSU5FUicpXG4gICAgICAgIEBfakVkaXRvckNvbnRhaW5lciA9IERPTS5lbGVtQnlJZCgnVE9QUk9XRURJVE9SJywgJ0VESVRPUl9DT05UQUlORVInKVxuXG4gICAgICAgICMgU2V0IHRoZSBkaW1lbnNpb25zXG4gICAgICAgIEBfcm93Q29udGFpbmVyRWxlbS5zdHlsZS5oZWlnaHQgPSBAX3Jvd0hlaWdodCArIFwicHhcIlxuICAgICAgICBAX3Jvd0NvbnRhaW5lckVsZW0uc3R5bGUud2lkdGggPSBAX3RvdGFsV2lkdGggKyBcInB4XCJcbiAgICAgICAgXG4gICAgICAgIEBfc2V0dXBTbGlkZXIoKSAgICAgICAgXG5cbiAgICAgICAgIyBCdWlsZCB0aGUgcm93IGFuZCB0aGUgZWRpdG9yIFxuICAgICAgICBAX2J1aWxkUm93KClcbiAgICAgICAgQF9idWlsZEVkaXRvckNlbGxzKClcbiAgICAgICAgQF91cGRhdGVFZGl0b3JDZWxscygxKVxuICAgICAgICBAX3NldHVwQnV0dG9uRXZlbnRzKClcbiAgICAgICAgXG5cbiAgICAjXG4gICAgIyBQb3B1bGF0ZSB0aGUgbWFpbiBjb250YWluZXIgd2l0aCB0aGUgdGVtcGxhdGVcbiAgICAjXG4gICAgX3NldHVwQ29udGFpbmVyVGVtcGxhdGU6ICgpLT5cbiAgICAgICAgdG9wcm93ZWRpdG9ySFRNTCA9IERPTS5lbGVtQnlJZCgnVE9QUk9XRURJVE9SJywgJ1RFTVBMQVRFX1RPUFJPV0VESVRPUicpLmlubmVySFRNTFxuICAgICAgICBjYWdlbk1haW5FbGVtID0gRE9NLmVsZW1CeUlkKCdDQUdFTicsICdNQUlOX0NPTlRBSU5FUicpXG4gICAgICAgIGNhZ2VuTWFpbkVsZW0uaW5uZXJIVE1MID0gTXVzdGFjaGUucmVuZGVyKHRvcHJvd2VkaXRvckhUTUwse30pXG5cbiAgICAjXG4gICAgIyBTZXR1cCB0aGUgc2xpZGVyICh6b29tZXIpXG4gICAgI1xuICAgIF9zZXR1cFNsaWRlcjogKCktPlxuICAgICAgICBzbGlkZXJDb250YWluZXJFbGVtID0gRE9NLmVsZW1CeUlkKCdUT1BST1dFRElUT1InLCAnU0xJREVSX0NPTlRBSU5FUicpXG4gICAgICAgIHNsaWRlckNvbnRhaW5lckVsZW0uc3R5bGUud2lkdGggPSBAX3RvdGFsV2lkdGggKyBcInB4XCJcblxuICAgICAgICBAX3NsaWRlckVsZW0uc3R5bGUud2lkdGggPSAoQF9jb2xXaWR0aCAqIEBfc2xpZGVyQ29scykgKyBcInB4XCIgXG5cbiAgICAgICAgc2xpZGVyQXJyb3dMZWZ0RWxlbSA9IERPTS5lbGVtQnlJZCgnVE9QUk9XRURJVE9SJywgJ1NMSURFUl9BUlJPV19MRUZUJylcbiAgICAgICAgc2xpZGVyQXJyb3dSaWdodEVsZW0gPSBET00uZWxlbUJ5SWQoJ1RPUFJPV0VESVRPUicsICdTTElERVJfQVJST1dfUklHSFQnKVxuICAgICAgICBpc1NsaWRlckluRHJhZ01vZGUgPSBmYWxzZVxuXG4gICAgICAgICMgRXZlbnQgaGFuZGxlciBmb3Igd2hlbiBhIGNsaWNrIG9jY3VycyB3aGlsZSBzbGlkaW5nIHRoZSBcInpvb21cIlxuICAgICAgICBAX3NsaWRlckVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCA9PlxuICAgICAgICAgICAgaWYgaXNTbGlkZXJJbkRyYWdNb2RlXG4gICAgICAgICAgICAgICAgaXNTbGlkZXJJbkRyYWdNb2RlID0gZmFsc2VcbiAgICAgICAgICAgICAgICBzbGlkZXJBcnJvd0xlZnRFbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICAgICAgICAgIHNsaWRlckFycm93UmlnaHRFbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGlzU2xpZGVySW5EcmFnTW9kZSA9IHRydWVcbiAgICAgICAgICAgICAgICBzbGlkZXJBcnJvd0xlZnRFbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgICAgICAgICBzbGlkZXJBcnJvd1JpZ2h0RWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIClcblxuICAgICAgICAjIEV2ZW50IGhhbmRsZXIgZm9yIHdoZW4gdGhlIG1vdXNlIG1vdmVzIG92ZXIgdGhlIFwiem9vbVwiIHNsaWRlclxuICAgICAgICBAX3NsaWRlckVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PlxuICAgICAgICAgICAgaWYgaXNTbGlkZXJJbkRyYWdNb2RlIFxuICAgICAgICAgICAgICAgIEBfbW92ZVNsaWRlcihldmVudClcbiAgICAgICAgKVxuXG4gICAgICAgICMgR2V0IHRoZSBpbml0aWFsIHNsaWRlciBwb3NpdGlvblxuICAgICAgICBAX3NsaWRlckluaXRpYWxPZmZzZXQgPSBAX2dldE9mZnNldFBvc2l0aW9uKEBfc2xpZGVyRWxlbSlcbiAgICBcbiAgICAjXG4gICAgIyBTZXR1cCB0aGUgQnV0dG9uIGV2ZW50c1xuICAgICNcbiAgICBfc2V0dXBCdXR0b25FdmVudHM6ICgpLT5cbiAgICAgICAgIyBUaGUgR2VuZXJhdGUgY2xpY2sgZXZlbnRcbiAgICAgICAgRE9NLmVsZW1CeUlkKCdUT1BST1dFRElUT1InLCAnQlVUVE9OX0dFTkVSQVRFJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAgICAgKCk9PlxuICAgICAgICAgICAgICAgIHJhZGlvKCd0YWJzLnNob3cuZ2VuZXJhdG9yJykuYnJvYWRjYXN0KClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgKVxuXG4gICAgICAgICMgUmVzZXQgYnV0dG9uIGNsaWNrIGV2ZW50XG4gICAgICAgIERPTS5lbGVtQnlJZCgnVE9QUk9XRURJVE9SJywgJ0JVVFRPTl9SRVNFVCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgICAgIChldmVudCk9PkBfcmVzZXRSb3coZXZlbnQpXG4gICAgICAgIClcblxuICAgICNcbiAgICAjIEdldCB0aGUgb2Zmc2V0IHBvc2l0aW9uIGZvciBhbiBlbGVtZW50XG4gICAgI1xuICAgIF9nZXRPZmZzZXRQb3NpdGlvbjogKGVsZW0pLT5cbiAgICAgICAgdG9wID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgbGVmdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldFxuICAgICAgICByZXR1cm4geyB0b3AsIGxlZnQgfTtcbiAgICAjXG4gICAgIyBFdmVudCBoYW5kbGVyIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBSZXNldCBidXR0b25cbiAgICAjIFxuICAgIF9yZXNldFJvdzogKGV2ZW50KS0+XG4gICAgICAgIEBfZ2VuZXJhdGVJbml0aWFsQmluYXJ5KClcbiAgICAgICAgQHJ1bigpXG5cblxuICAgICNcbiAgICAjIEV2ZW50IGhhbmRsZXIgd2hlbiB0aGUgbW91c2UgbW92ZXMgdGhlIHNsaWRlclxuICAgICMgXG4gICAgX21vdmVTbGlkZXI6IChldik9PlxuXG4gICAgICAgICMgR2V0IHRoZSBtb3VzZSBwb3NpdGlvblxuICAgICAgICB4TW91c2VQb3MgPSBldi5jbGllbnRYXG4gICAgICAgIGNsb3Nlc3RFZGdlUHggPSB4TW91c2VQb3MgLSAoeE1vdXNlUG9zICUgQF9jb2xXaWR0aClcblxuICAgICAgICAjIENhbGN1bGF0ZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIHNsaWRlclxuICAgICAgICBsZWZ0UG9zID0gY2xvc2VzdEVkZ2VQeCAtIEBfc2xpZGVyUHhUb01pZFxuICAgICAgICByaWdodFBvcyA9IGNsb3Nlc3RFZGdlUHggKyBAX3NsaWRlclB4VG9NaWQrQF9jb2xXaWR0aFxuICAgICAgICBmdWxsV2lkdGggPSBAX3RvdGFsV2lkdGggKyBAX2NvbFdpZHRoXG5cbiAgICAgICAgIyBBZGp1c3QgdGhlIGNhbGN1bGF0aW9uIGJhc2VkIG9uIGEgZnVkZ2VkIGluaXRpYWwgb2Zmc2V0XG4gICAgICAgIGFkanVzdGVkTGVmdCA9IGxlZnRQb3MrQF9zbGlkZXJJbml0aWFsT2Zmc2V0LmxlZnRcblxuICAgICAgICBpZiBhZGp1c3RlZExlZnQgPj0gQF9zbGlkZXJJbml0aWFsT2Zmc2V0LmxlZnQgJiYgcmlnaHRQb3MgPD0gIGZ1bGxXaWR0aFxuICAgICAgICAgICAgQF9zbGlkZXJFbGVtLnN0eWxlLmxlZnQgPSBhZGp1c3RlZExlZnQgKyBcInB4XCJcblxuICAgICAgICAgICAgbGVmdENlbGxObyA9IChsZWZ0UG9zIC8gQF9jb2xXaWR0aCkgKyAxXG5cbiAgICAgICAgICAgIEBfdXBkYXRlRWRpdG9yQ2VsbHMobGVmdENlbGxObylcblxuXG4gICAgI1xuICAgICMgQ2hhbmdlIHRoZSBjZWxscyBhdmFpbGFibGUgdG8gZWRpdC5cbiAgICAjIFxuICAgICMgV2hlbiB0aGUgdXNlciBtb3ZlcyB0aGUgc2xpZGVyIHRvIFwiem9vbVwiIG9uIGEgc2VjdGlvblxuICAgICMgdGhpcyB3aWxsIHVwZGF0ZSB0aGUgZWRpdGFibGUgY2VsbHMuXG4gICAgIyBcbiAgICBfdXBkYXRlRWRpdG9yQ2VsbHM6IChiZWdpbkNlbGwpLT5cbiAgICAgICAgXG4gICAgICAgIGZvciBjZWxsIGluIFsxLi5AX3NsaWRlckNvbHNdXG4gICAgICAgICAgICBjZWxsUG9zID0gY2VsbCtiZWdpbkNlbGwtMVxuXG4gICAgICAgICAgICBAX2VkaXRvckNlbGxzRWxlbXNbY2VsbF0uaW5uZXJIVE1MID0gY2VsbFBvc1xuICAgICAgICAgICAgQF9lZGl0b3JDZWxsc0VsZW1zW2NlbGxdLnNldEF0dHJpYnV0ZSgnZGF0YS1jZWxsSW5kZXgnLCBjZWxsUG9zKVxuXG4gICAgICAgICAgICAjIENoYW5nZSB0aGUgc3R5bGUgdG8gcmVmbGVjdCB3aGljaCBjZWxscyBhcmUgYWN0aXZlXG4gICAgICAgICAgICBpZiBAX2FSb3dCaW5hcnlbY2VsbFBvc10gaXMgMVxuICAgICAgICAgICAgICAgIEBfZWRpdG9yQ2VsbHNFbGVtc1tjZWxsXS5jbGFzc0xpc3QuYWRkKERPTS5nZXRDbGFzcygnVE9QUk9XRURJVE9SJywgJ0VESVRPUl9DRUxMX0FDVElWRScpKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBfZWRpdG9yQ2VsbHNFbGVtc1tjZWxsXS5jbGFzc0xpc3QucmVtb3ZlKERPTS5nZXRDbGFzcygnVE9QUk9XRURJVE9SJywgJ0VESVRPUl9DRUxMX0FDVElWRScpKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAjXG4gICAgIyBCdWlsZCB0aGUgZWRpdG9yIGNlbGxzXG4gICAgIyBcbiAgICBfYnVpbGRFZGl0b3JDZWxsczogKCktPlxuXG4gICAgICAgIGNlbGxUZW1wbGF0ZUhUTUwgPSBET00uZWxlbUJ5SWQoJ1RPUFJPV0VESVRPUicsICdURU1QTEFURV9FRElUT1JfQ0VMTCcpLmlubmVySFRNTFxuICAgICAgICBcbiAgICAgICAgQF9qRWRpdG9yQ29udGFpbmVyLnN0eWxlLndpZHRoID0gKEBfc2xpZGVyQ29scyAqIEBfZWRpdG9yQ2VsbFdpZHRoKSArIFwicHhcIlxuICAgICAgICBjZWxsSHRtbCA9IFwiXCJcbiAgICAgICAgZm9yIGNlbGwgaW4gWzEuLkBfc2xpZGVyQ29sc11cbiAgICAgICAgICAgIHRtcElkID0gXCJlZGl0b3ItY2VsbC1cIitjZWxsXG4gICAgICAgICAgICBsZWZ0UG9zID0gKGNlbGwtMSkqQF9lZGl0b3JDZWxsV2lkdGhcblxuICAgICAgICAgICAgIyBDcmVhdGUgYW5kIGFwcGVuZCB0aGUgZWRpdG9yIGNlbGwgdmlhIE11c3RhY2hlIHRlbXBsYXRlXG4gICAgICAgICAgICBjZWxsSHRtbCArPSBNdXN0YWNoZS5yZW5kZXIoY2VsbFRlbXBsYXRlSFRNTCwge2lkOnRtcElkLCBsZWZ0OmxlZnRQb3N9KVxuICAgICAgICAgICAgIyBTZXR1cCB0aGUgY2xpY2sgZXZlbnQgd2hlbiBhIHVzZXIgdG9nZ2xlcyBhIGNlbGwgYnkgY2xpY2tpbmcgb24gaXRcblxuICAgICAgICBAX2pFZGl0b3JDb250YWluZXIuaW5uZXJIVE1MID0gY2VsbEh0bWxcblxuICAgICAgICBjZWxscyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoRE9NLmdldENsYXNzKCdUT1BST1dFRElUT1InLCAnRURJVE9SX0NFTEwnKSlcbiAgICAgICAgXG4gICAgICAgIGZvciBpIGluIFswLi5jZWxscy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgQF9lZGl0b3JDZWxsc0VsZW1zW2krMV0gPSBjZWxsc1tpXVxuICAgICAgICAgICAgY2VsbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBAX3RvZ2dsZUVkaXRvckNlbGwpXG4gICAgICAgIFxuXG5cbiAgICAjXG4gICAgIyBFdmVudCBoYW5kbGVyIGZvciB3aGVuIGEgdXNlciBjbGlja3Mgb24gYSBjZWxsIHRoYXQgdGhleVxuICAgICMgd2FudCB0byBhY3RpdmF0ZSBvciBkZWFjdGl2YXRlXG4gICAgIyBcbiAgICBfdG9nZ2xlRWRpdG9yQ2VsbDogKGV2ZW50KT0+XG5cbiAgICAgICAgZWRpdG9yQ2VsbEVsZW0gPSBldmVudC50YXJnZXRcbiAgICAgICAgY2VsbE5vID0gZWRpdG9yQ2VsbEVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWNlbGxJbmRleCcpXG4gICAgICAgIHNsaWRlckNvbFByZWZpeCA9IERPTS5nZXRQcmVmaXgoJ1RPUFJPV0VESVRPUicsICdTTElERVJfQ09MJylcbiAgICAgICAgc2xpZGVyQ2VsbEVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzbGlkZXJDb2xQcmVmaXggKyBjZWxsTm8pXG4gICAgICAgIGlmIEBfYVJvd0JpbmFyeVtjZWxsTm9dIGlzIDFcbiAgICAgICAgICAgICMgRGVhY3RpdmF0ZSB0aGUgY2VsbCBcbiAgICAgICAgICAgIEBfYVJvd0JpbmFyeVtjZWxsTm9dID0gMFxuICAgICAgICAgICAgZWRpdG9yQ2VsbEVsZW0uY2xhc3NMaXN0LnJlbW92ZShET00uZ2V0Q2xhc3MoJ1RPUFJPV0VESVRPUicsICdFRElUT1JfQ0VMTF9BQ1RJVkUnKSlcbiAgICAgICAgICAgIHNsaWRlckNlbGxFbGVtLmNsYXNzTGlzdC5yZW1vdmUoRE9NLmdldENsYXNzKCdUT1BST1dFRElUT1InLCAnU0xJREVSX0NFTExfQUNUSVZFJykpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgICMgQWN0aXZhdGUgdGhlIGNlbGxcbiAgICAgICAgICAgIEBfYVJvd0JpbmFyeVtjZWxsTm9dID0gMVxuICAgICAgICAgICAgZWRpdG9yQ2VsbEVsZW0uY2xhc3NMaXN0LmFkZChET00uZ2V0Q2xhc3MoJ1RPUFJPV0VESVRPUicsICdFRElUT1JfQ0VMTF9BQ1RJVkUnKSlcbiAgICAgICAgICAgIHNsaWRlckNlbGxFbGVtLmNsYXNzTGlzdC5hZGQoRE9NLmdldENsYXNzKCdUT1BST1dFRElUT1InLCAnU0xJREVSX0NFTExfQUNUSVZFJykpXG5cbiAgICAgICAgIyBTZXQgdGhlIG5ldyBiaW5hcnkgY29uZmlndXJhdGlvbiBmb3IgdGhlIGdlbmVyYXRvclxuICAgICAgICBAX1ZhcnMuc2V0VG9wUm93QmluYXJ5KEBfYVJvd0JpbmFyeSlcbiAgICAgICAgXG5cbiAgICAjXG4gICAgIyBTZXR1cCB0aGUgaW5pdGlhbCBiaW5hcnkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJvd1xuICAgICMgXG4gICAgX2dlbmVyYXRlSW5pdGlhbEJpbmFyeTogKCktPlxuICAgICAgICAjIFRoZSBtaWRkbGUgY2VsbCBpcyB0aGUgb25seSBvbmUgaW5pdGlhbGx5IGFjdGl2ZVxuICAgICAgICBzZWVkX2NvbCA9IE1hdGguY2VpbChAX25vQ29sdW1ucyAvIDIpXG4gICAgICAgIFxuICAgICAgICBmb3IgY29sIGluIFsxLi5AX25vQ29sdW1uc11cbiAgICAgICAgICAgIGlmIGNvbCBpcyBzZWVkX2NvbFxuICAgICAgICAgICAgICAgIEBfYVJvd0JpbmFyeVtjb2xdID0gMVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBfYVJvd0JpbmFyeVtjb2xdID0gMFxuXG4gICAgICAgIEBfVmFycy5zZXRUb3BSb3dCaW5hcnkoQF9hUm93QmluYXJ5KVxuICAgICAgICBcblxuICAgICNcbiAgICAjIEJ1aWxkIHRoZSByb3cgb2YgY2VsbHNcbiAgICAjIFxuICAgIF9idWlsZFJvdzogKCktPlxuICAgICAgICAjIEdldCB0aGUgTXVzdGFjaGUgdGVtcGxhdGUgaHRtbFxuXG4gICAgICAgIHNtYWxsY2VsbFRlbXBsYXRlSFRNTCA9IERPTS5lbGVtQnlJZCgnVE9QUk9XRURJVE9SJywgJ1RFTVBMQVRFX1NMSURFUl9DRUxMJykuaW5uZXJIVE1MXG4gICAgICAgIHNsaWRlckNvbFByZWZpeCA9IERPTS5nZXRQcmVmaXgoJ1RPUFJPV0VESVRPUicsICdTTElERVJfQ09MJylcbiAgICAgICAgcm93SHRtbCA9IFwiXCJcbiAgICAgICAgIyBBZGQgY2VsbHMgdG8gdGhlIHJvd1xuICAgICAgICBmb3IgY29sIGluIFsxLi5AX25vQ29sdW1uc11cbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzID0gXCJcIlxuICAgICAgICAgICAgaWYgQF9hUm93QmluYXJ5W2NvbF0gaXMgMVxuICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzID0gRE9NLmdldENsYXNzKCdUT1BST1dFRElUT1InLCAnU0xJREVSX0NFTExfQUNUSVZFJylcblxuICAgICAgICAgICAgbGVmdFBvcyA9ICgoY29sIC0gMSkgKiBAX2NvbFdpZHRoKVxuICAgICAgICAgICAgdG1wSWQgPSBzbGlkZXJDb2xQcmVmaXggKyBjb2xcblxuICAgICAgICAgICAgIyBDcmVhdGUgYSByZW5kZXJpbmcgb2YgdGhlIGNlbGwgdmlhIE11c3RhY2hlIHRlbXBsYXRlXG4gICAgICAgICAgICByb3dIdG1sICs9IE11c3RhY2hlLnJlbmRlcihzbWFsbGNlbGxUZW1wbGF0ZUhUTUwsIHtpZDp0bXBJZCwgbGVmdDpsZWZ0UG9zLCBhY3RpdmVDbGFzczphY3RpdmVDbGFzc30pXG5cbiAgICAgICAgIyBBZGQgdGhlIGNlbGxzXG4gICAgICAgIEBfcm93Q29udGFpbmVyRWxlbS5pbm5lckhUTUwgPSByb3dIdG1sXG4iXX0=


/*
Initialize the CAGEN sections and setup the tabs.

@author Destin Moulton
@git https://github.com/destinmoulton/cagen
@license MIT

Component of Cellular Automata Generator (CAGEN)

The jQuery onload function that initializes the various
CAGEN features and starts the tabbed interface.
 */
window.onload = function() {
  var tabs, vars;
  vars = new Variables();
  tabs = new Tabs(vars);
  new RuleThumbnails(vars);
  new TopRowEditor(vars);
  new Generator(vars);
  return tabs.start();
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFpbi5qcyIsInNvdXJjZXMiOlsiTWFpbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7QUFjQSxNQUFNLENBQUMsTUFBUCxHQUFnQixTQUFBO0FBQ1osTUFBQTtFQUFBLElBQUEsR0FBVyxJQUFBLFNBQUEsQ0FBQTtFQUdYLElBQUEsR0FBVyxJQUFBLElBQUEsQ0FBSyxJQUFMO0VBR1AsSUFBQSxjQUFBLENBQWUsSUFBZjtFQUdBLElBQUEsWUFBQSxDQUFhLElBQWI7RUFHQSxJQUFBLFNBQUEsQ0FBVSxJQUFWO1NBR0osSUFBSSxDQUFDLEtBQUwsQ0FBQTtBQWhCWSIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuSW5pdGlhbGl6ZSB0aGUgQ0FHRU4gc2VjdGlvbnMgYW5kIHNldHVwIHRoZSB0YWJzLlxuXG5AYXV0aG9yIERlc3RpbiBNb3VsdG9uXG5AZ2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXN0aW5tb3VsdG9uL2NhZ2VuXG5AbGljZW5zZSBNSVRcblxuQ29tcG9uZW50IG9mIENlbGx1bGFyIEF1dG9tYXRhIEdlbmVyYXRvciAoQ0FHRU4pXG5cblRoZSBqUXVlcnkgb25sb2FkIGZ1bmN0aW9uIHRoYXQgaW5pdGlhbGl6ZXMgdGhlIHZhcmlvdXNcbkNBR0VOIGZlYXR1cmVzIGFuZCBzdGFydHMgdGhlIHRhYmJlZCBpbnRlcmZhY2UuXG5cbiMjI1xuXG53aW5kb3cub25sb2FkID0gLT5cbiAgICB2YXJzID0gbmV3IFZhcmlhYmxlcygpXG5cbiAgICAjIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgVGFicyAodmlzdWFsIHNlY3Rpb25hbCBtYW5hZ2VtZW50KVxuICAgIHRhYnMgPSBuZXcgVGFicyh2YXJzKVxuXG4gICAgIyBDcmVhdGUgaW5zdGFuY2Ugb2YgdGhlIFJ1bGUgVGh1bWJuYWlscyBwcmV2aWV3L3NlbGVjdG9yXG4gICAgbmV3IFJ1bGVUaHVtYm5haWxzKHZhcnMpXG5cbiAgICAjIENyZWF0ZSBpbnN0YW5jZSBvZiB0aGUgVG9wIFJvdyBFZGl0b3JcbiAgICBuZXcgVG9wUm93RWRpdG9yKHZhcnMpXG5cbiAgICAjIENyZWF0ZSBpbnN0YW5jZSBvZiB0aGUgRGFzaGJvYXJkXG4gICAgbmV3IEdlbmVyYXRvcih2YXJzKVxuXG4gICAgIyBTdGFydCB0aGUgdGFiIGludGVyZmFjZVxuICAgIHRhYnMuc3RhcnQoKVxuXG4iXX0=
